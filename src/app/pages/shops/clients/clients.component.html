<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-spin-clockwise" [fullScreen]="true">
	<p style="color: white"> Por favor espere... </p>
</ngx-spinner>
<section class="section-b-space">
	<div class="container">
		<form class="theme-form">
			<div class="d-flex search justify-content-mobile-first">
				<div class="box-mobile-first">
					<div class="form-group flex-fill mr-1">
						<div class="field-label font-weight-bold">Cliente</div>
						<input class="form-control lighten-3">
					</div>
					<div class="d-flex align-items-center mt-2 ml-2">
						<button class="btn btn-solid-purple btn-find flex-fill" >Buscar</button>
					</div>
				</div>
			</div>
			<div class="form-group mt-2 d-flex justify-content-mobile-first">
				<button class="btn btn-outline btn-sm" (click)="ExportTOPDF()">
					Reporte PDF
					<i class="fa fa-file-pdf-o fa-2x"></i>
				</button>
				<button class="btn btn-outline btn-sm mx-1" (click)="ExportTOExcel()">
					Reporte Excel
					<i class="fa fa-file-excel-o fa-2x"></i>
				</button>
			</div>
		</form>

		<ng-container class="table-responsive-sm mt-3" *ngIf="store || role === 'admin'; else elseTemplate">
			<div class="table-responsive mt-3">
				<table class="table cart-table table-responsive-xs" id="mp-table" #TABLE>
					<thead>
						<tr class="table-head text-center">
							<th *ngFor="let field of fields" scope="col">{{field}}</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let client of clients">
							<td class="text-center">{{client.fullname}}</td>
							<td class="text-center">{{ client.email }}</td>
							<td class="text-center text-capitalize">{{ client.quantityOfBuys }}</td>
							<td class="text-center">
								<a class="btn btn-table-action" (click)="Interests.openModal()">
									<i class="fa fa-search fa-lg" style="color: Dodgerblue"></i>
								</a>
							</td>
						</tr>
					</tbody>
				</table>
				
			</div>
			<app-custom-pagination [items]="clients" [paginate]="paginate" (setPage)="setPage($event)">
			</app-custom-pagination>
			<div class="form-row container justify-content-center " *ngIf="clients.length==0">
				<div class="col-md-5">
					<div class="card text-center mx-auto mb-2">
						<div class="card-body">
							<p>No hay clientes registrados</p>
						</div>
					</div>
				</div>
			</div>
		</ng-container>

		<ng-template #elseTemplate>
			<div class="form-row container justify-content-center ">
				<div class="col-md-5">
					<div class="card text-center mx-auto mb-2">
						<div class="card-body">
							<p *ngIf="!store">
								AÃºn no has configurado tu tienda
								<a class="btn btn-solid-purple mt-3" [routerLink]="['/pages/account/user/admin-store']">
									Configurar tienda
								</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</ng-template>
	</div> 
</section>
<app-interests #interests ></app-interests>