(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"+Sjy":function(e,t,r){"use strict";r.d(t,"h",function(){return g}),r.d(t,"g",function(){return O}),r.d(t,"e",function(){return S}),r.d(t,"f",function(){return I}),r.d(t,"a",function(){return y}),r.d(t,"b",function(){return j}),r.d(t,"c",function(){return E}),r.d(t,"d",function(){return T});var n=r("vJtL"),a=r("Z3Pq"),o=r("peh1"),i=r("IniL"),s=r("s4P+"),c=r("ayyL"),d=r("D6w7"),l=r("v3s2"),u=r("CnUw"),_=r("4c9C"),m=r("v5z3"),p=r("kcos"),b=r("iPQX"),f=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(l.a)(e),isExcludedFromSearch:()=>!0},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(l.a)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(i.j)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(d.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(c.y)(e)},{path:"apps",id:"Papps"},{path:"activity-page",id:"Pactivity"},{path:"saved-page",id:"Psaved"},{path:"browse-files",id:"Pbrowse-files"},{path:"browse-people",id:"Pbrowse-people"},{path:"browse-channels",id:"Pbrowse-channels"},{path:"browse-user-groups",id:"Pbrowse-user-groups"},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.b)(e)},{path:m.e.TeamName,id:m.d.TeamName,isEnabled:e=>Object(_.k)(e)},{path:m.e.Channels,id:m.d.Channels,isEnabled:e=>Object(_.k)(e)&&!Object(_.j)(e)},{path:m.e.Invites,id:m.d.Invites,isEnabled:e=>Object(_.k)(e)},{path:m.e.StartFirstConversation,id:m.d.StartFirstConversation,isEnabled:e=>Object(_.j)(e)},{path:"all-dms",id:"Pdms",isEnabled:e=>Object(p.e)(e)},{path:"search",id:"Psearch",isEnabled:e=>Object(b.a)(e)}],h=Object(a.a)(f,"id"),v=Object(a.a)(f,"path");v.unreads.id;function g(e){return!!v[e]}function O(e){return!!h[e]}function S(e,t){return!!t&&(Object(n.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(s.b)().error("PAGES","Page "+t.id+" has an invalid isEnabled property - it needs to either be a function or undefined"),!1))}function I(e,t){return S(e,E(t))}function y(){return f}var j=Object(o.createSelector)(y().map(e=>t=>S(t,e)),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y().filter((e,r)=>t[r])});function E(e){return h[e]}function T(e){return v[e]}},"+cPl":function(e,t,r){"use strict";r.d(t,"e",function(){return p}),r.d(t,"a",function(){return b}),r.d(t,"f",function(){return v}),r.d(t,"b",function(){return g}),r.d(t,"d",function(){return O}),r.d(t,"c",function(){return S});var n=r("zLVn"),a=r("7EGn"),o=r("4Z3G"),i=r("aK/h"),s=r("2XU3"),c=r("UjNr"),d=r("s4P+"),l=r("QOs+"),u=r("6jsb"),_=r("IniL"),m=r("5v1V"),p=Object(l.a)("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var{pref:r,value:n=null,reason:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(s.b)({method:"team.prefs.set",args:{prefs:JSON.stringify({[r]:n})},reason:a})).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the pref "'+r+'"'),e})});p.meta={name:"setTeamPref",key:"fetchersPrefsApiSetTeamPref",description:"Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first"},p.propTypes={pref:i.default.string.isRequired,value:i.default.any,reason:i.default.string};var b=Object(l.a)("Set multiple team prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={method:"team.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleTeamPrefsByApi"};return e(Object(s.b)(n)).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'team.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});b.meta={name:"setMultipleTeamPrefs",key:"fetchersPrefsApiSetMultipleTeamPrefs",description:"Set multiple team prefs via the setPref API"},b.propTypes={prefs:i.default.object};var f=Object(l.a)("Get one or more named user prefs via API",function(e,t){var{prefs:r=[],reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.length?e(Object(s.b)({method:"users.prefs.get",args:{prefs:r.join(",")},reason:n})).then(e=>e.prefs).catch(()=>{Object(d.a)({getState:t}).error("PREFS","user.prefs.get failed to fetch the prefs",r)}):o.a.reject(new Error("No prefs were passed to getUserPrefsByApi."))});f.meta={name:"getUserPrefsByApi",key:"fetchersPrefsApiGetUserPrefsByApi",description:"Get one or more named user prefs via API"},f.propTypes={prefs:i.default.array.isRequired,reason:i.default.string.isRequired};var h=Object(u.b)("Trigger pref_change events for each of the preferences in the given payload",(e,t,r)=>{Object.keys(r).forEach(t=>{e(Object(m.c)({type:"pref_change",name:t,value:r[t]}))})});h.meta={name:"triggerDegradedModePrefChangeEvents",key:"fetchersPrefsApiTriggerDegradedModePrefChangeEvents",description:"Trigger pref_change events for each of the preferences in the given payload"},h.propTypes=i.default.object.isRequired;var v=Object(l.a)("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pref:o,value:i}=a,l=Object(n.a)(a,["pref","value"]),u=t(),m={method:"users.prefs.set",args:Object.assign({name:o,value:i},l),reason:null!==(r=l.reason)&&void 0!==r?r:"prefs-api/setUserPrefByApi"};return Object(_.j)(u,"feature_offline_mode")?e(Object(c.a)(m)).tap(()=>{e(h({[o]:i}))}):e(Object(s.b)(m)).tap(()=>{e(h({[o]:i}))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.set failed to update the pref "'+o+'"'),e})});v.meta={name:"setUserPref",key:"fetchersPrefsApiSetUserPref",description:"Set a pref via the setPref API, updating local prefs optimistically first"},v.propTypes={pref:i.default.string.isRequired,value:i.default.any};var g=Object(l.a)("Set multiple prefs via the setPref API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t(),a={method:"users.prefs.set",args:{prefs:JSON.stringify(r)},reason:"prefs-api/setMultipleUserPrefsByApi"};return Object(_.j)(n,"feature_offline_mode")?e(Object(c.a)(a)).tap(()=>e(h(r))):e(Object(s.b)(a)).tap(()=>{e(h(r))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.set failed to update the prefs "'+Object.keys(r).join(", ")+'"'),e})});g.meta={name:"setMultipleUserPrefs",key:"fetchersPrefsApiSetMultipleUserPrefs",description:"Set multiple prefs via the setPref API"},g.propTypes={prefs:i.default.object};var O=Object(l.a)("Set a global notification pref via the users.prefs.setNotifications API",function(e,t){var{name:r,value:n,sync:o=!1,reason:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=t(),u={method:"users.prefs.setNotifications",args:{name:r,value:n,global:!0,sync:o},reason:i};return Object(_.j)(l,"feature_offline_mode")?e(Object(c.a)(u)).tap(()=>{"global_keywords"===r&&e(h({highlight_words:n}))}):e(Object(s.b)(u)).tap(t=>{t&&t.all_notifications_prefs&&(e(h({all_notifications_prefs:JSON.stringify(t.all_notifications_prefs)})),"global_keywords"===r&&Object(a.a)(t.all_notifications_prefs,"global.global_keywords")&&e(h({highlight_words:t.all_notifications_prefs.global.global_keywords})))}).catch(e=>{throw Object(d.a)({getState:t}).error("PREFS",'users.prefs.setNotifications failed to update the pref "'+r+'"'),e})});O.meta={name:"setNotificationsGlobalPref",key:"fetchersPrefsApiSetNotificationsGlobalPref",description:"Set a global notification pref via the users.prefs.setNotifications API"},O.propTypes={name:i.default.oneOf(["global_mobile","global_mpdm_mobile","global_desktop","global_mpdm_desktop","global_keywords","mobile_sound","desktop_sound","no_text_in_notifications","push_show_preview","push_idle_wait","threads_everything"]).isRequired,value:i.default.oneOfType([i.default.string,i.default.number,i.default.bool]).isRequired,sync:i.default.bool,reason:i.default.string};var S=Object(l.a)("Calls users.prefs.setNotifications endpoint",(e,t,r)=>{var{name:n,value:a,channelId:o,sync:i=!1,reason:d="users-prefs-set-notifications"}=r,l={method:"users.prefs.setNotifications",args:{name:n,value:a,channel_id:o,global:!1,sync:i},reason:d};return Object(_.j)(t(),"feature_offline_mode")?e(Object(c.a)(l)):e(Object(s.b)(l))});S.meta={name:"setNotificationsChannelOverride",key:"fetchersPrefsApiSetNotificationsChannelOverride",description:"Calls users.prefs.setNotifications endpoint"},S.propTypes={name:i.default.string.isRequired,value:i.default.any.isRequired,channelId:i.default.string.isRequired,sync:i.default.bool,reason:i.default.string}},"0QyR":function(e,t,r){"use strict";r.d(t,"b",function(){return Z}),r.d(t,"a",function(){return Y});var n=r("zLVn"),a=r("9oTK"),o=r("fujP"),i=r("3Hq1"),s=r("CpTu"),c=r("owWc"),d=r("4Z3G"),l=r("1PKr"),u=r("Omjo"),_=r("Lg4S"),m=r("HDs8"),p=r("0oUp"),b=r("VL9c"),f=r("1j8a"),h=15e3,v=null,g=null,O=0,S=10,I=1e3;function y(){return g||(g=function e(){return Object(p.a)().catch(()=>O>S?d.a.reject(new Error("boot_exceeded_maximum_network_retries")):new d.a(t=>{clearTimeout(v),v=setTimeout(()=>{O+=1,t(e())},I)}))}().finally(()=>{clearTimeout(v),v=null,g=null})),g}function j(){var e,{maxTimePausedMs:t=h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={online:!0},n=()=>{r.online=!1,e=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},t)},a=()=>{r.online=!0,window.clearTimeout(e),e=void 0},o={apiQ:new m.a({isOnline:()=>r.online,reconnectClient:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),y().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:n,setOnline:a}),reconnectService:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),Object(b.a)().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:n,setOnline:a})}),q:function(){return o.apiQ&&o.apiQ.q(...arguments)},stop:()=>{o.apiQ.stop(),o.apiQ.clearStatsInterval(),delete o.apiQ,o.apiQ=void 0,window.clearTimeout(e),e=void 0}};return o}var E=r("Gogr"),T=r("VHGx"),A=1e3;var F=3456e5;var k=r("IbTH"),w=r("tYiI"),D=r("HLHh"),C=r("4ULK"),R=r("nOCT"),P=r("s4P+"),N=r("UioL");function x(){return(x=Object(a.coroutine)(function*(){var e,t,{teamId:r,userId:n,forceAPI:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object(P.a)({teamId:r});if(a)return i.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){var t=Object(P.a)({teamId:e}),r=Object(R.c)(),n=Object(E.e)(e,"versionDataTs");return t.info("BOOT","Minimum supported data version is "+r+"; currently on "+n),!n||n<r}(r))return i.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(C.a)(r),!1;if(!Object(D.a)())return i.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;try{e=yield Object(N.a)({teamId:r,userId:n})}catch(s){return i.error("BOOT","Unable to get get stored state from IndexedDB",s),!1}return!(t=e)||Object(o.a)(t.bootData)?(i.info("BOOT","Unable to find stored state"),!1):e})).apply(this,arguments)}var B=r("btH0"),L=r("Pw4T"),M=r("fitI"),U=r("jr0b"),W=r("+Sjy"),G=r("Yd+W"),K=r("L6kU"),q=Object.assign({},K.a,{feature_classic_nav:!0,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_inputs:!0,feature_modern_profile_flexpane:!0,feature_sonic_pins:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_sonic_esc_creation:!0}),V=e=>!(!e||!e.is_im),H=e=>!(!e||!e.is_mpim),z=e=>V(e)&&e.user,Q=e=>H(e)&&e.members;function Y(){return X.apply(this,arguments)}function X(){return(X=Object(a.coroutine)(function*(){var e,t,{teamId:r,teamToken:n,userId:a,shouldSetFocus:o,routeInfo:i=null,forceAPI:c=!1,bootQueue:l=j(),bootedOffline:m,reason:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=yield function(){return x.apply(this,arguments)}({teamId:r,userId:a,forceAPI:c}),f=!!b;if(f&&((t=Object(E.c)("lastColdBootTs"))&&Date.now()-t>F)&&!m&&(yield T.b.fetch({url:"/api/api.test",timeout:A}).then(e=>{var{ok:t}=JSON.parse(e);return!0===t}).catch(e=>(Object(u.a)(e),!1)))&&(f=!1,Object(L.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),f)return Object(u.b)("BOOT","("+r+") Booting with persisted store"),{isWarmBooting:!0,bootData:b};l.apiQ.assignApiCallThreshold(Object(_.c)(o));var h=[re({bootQueue:l,token:n,teamId:r,reason:p,userId:a}),Object(k.f)({bootQueue:l,overrides:q,shouldFetchCached:!0,teamId:r,token:n}),Object(k.e)({bootQueue:l,shouldFetchCached:!0,teamId:r,token:n,userId:a})],v=i&&i.params&&i.params.entityId;!v||Object(B.a)(v)||Object(W.h)(v)||Object(w.a)(v)?Object(B.a)(v)||Object(W.h)(v)||Object(w.a)(v)||(Object(u.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),h.push(J({bootQueue:l,token:n,teamId:r}))):(Object(u.b)("BOOT","Booting into channel: "+v),h.push(J({bootQueue:l,token:n,teamId:r,id:v})));var[g,O,S,I]=yield d.a.all(h),{appHomesData:y,selfData:D,teamData:C,teamPrefsData:R,userPrefsData:P,userGroupMembershipData:N,channelsData:M,membersToFetch:U,paidFeatures:K,emojiBootData:V,slashCommandsBootData:H,acceptTosUrl:z,channelsPrefsData:Q,isEurope:Y,domainsBootData:X}=g,Z=(null==P?void 0:P.onboarding_state)>0,$=!!(null==O?void 0:O.feature_shared_channels_content),ee=!!(null==C?void 0:C.enterprise_id),te=null==R?void 0:null===(e=R.who_can_manage_ext_shared_channels)||void 0===e?void 0:e.type,ne=!0;te&&te.length>0&&(ne="NO_ONE"===te[0]);var ae=!(null==D?void 0:D.is_restricted)&&!(null==D?void 0:D.is_ultra_restricted)&&!ne,oe=!1,ie=!1,se=null,ce=null,de=null,le=null;if(P&&!P.onboarding_complete&&!Z){var ue,_e,me;if(null===(ue=de=yield Object(k.h)({bootQueue:l,token:n,teamId:r}))||void 0===ue?void 0:ue.tractorEnabled){var pe=yield Object(k.l)({bootQueue:l,token:n,teamId:r});se=Object(s.a)(pe,e=>"account_setup"===e.type&&"team_creation"===e.subtype);var be=Math.min(...pe.map(e=>e.date_start).filter(e=>e>0));oe=pe.length>0&&pe.filter(e=>e.state===G.e.Completed).length<pe.length&&(!be||be>Math.floor((Date.now()-6e5)/1e3))}else if("none"!==(null===(_e=de)||void 0===_e?void 0:_e.welcomePlaceState)){var fe;"enabled"!==(null===(fe=de)||void 0===fe?void 0:fe.welcomePlaceState)||P.newxp_seen_help_message||(ie=!0)}else P.seen_welcome_2||(ie=!0);"enabled"===(null===(me=de)||void 0===me?void 0:me.welcomePlaceState)&&(ce=yield Object(k.m)({bootQueue:l,token:n,teamId:r}))}$&&!ee&&ae&&(le=yield Object(k.g)({bootQueue:l,token:n,teamId:r}));var he,ve,ge=document.documentElement,Oe={app:"client",api_token:n,user_id:D&&D.id,version_ts:ge&&ge.dataset?ge.dataset.versionTs:"unknown",version_uid:ge&&ge.dataset?ge.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:oe,shouldStartJoinerOnboarding:ie,teamCreationWorkflow:se,welcomePlaceOnboardingData:ce,acceptTosUrl:z,isEurope:Y,onboardingData:de,labFeaturesStartupData:le};if(Oe.should_reload=g.should_reload,Oe.client_min_version=g.client_min_version,g.should_reload)return{bootData:{miscBootData:Oe}};if(D&&D.enterprise_user){var Se=Object(E.e)(r,"enterprise_api_token"),[{enterprise:Ie}={},ye]=yield d.a.all([Object(k.c)({bootQueue:l,token:n,teamId:r}),Object(k.d)({bootQueue:l,token:Se,teamId:r})]);Oe.enterprise_id=D.enterprise_user.enterprise_id,Oe.page_needs_enterprise=!0,Oe.enterprise_api_token=Se,he=Ie,ve=ye}if(I&&I.channelData){var je=M.findIndex(e=>e&&e.id===I.channelData.id);if(-1!==je){var Ee=Object.assign({},M[je],{},I.channelData);M.splice(je,1,Ee)}}return l.stop(),{isWarmBooting:!1,bootData:{appHomesData:y,channelsData:M,membersToFetch:U,teamData:C,viewData:I||null,selfData:D,featureFlagData:O,experimentsData:S,miscBootData:Oe,userPrefsData:P,teamPrefsData:R,userGroupMembershipData:N,enterpriseData:he,enterprisePrefsData:ve,paidFeatures:K,emojiBootData:V,slashCommandsBootData:H,channelsPrefsData:Q,domainsBootData:X}}})).apply(this,arguments)}function J(e){var{bootQueue:t,token:r,teamId:n,id:a=null}=e,o={token:r,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,no_members:!0,count:28};a&&(o.channel=a);var i=new l.b({method:"conversations.view",args:o,teamId:n});return t.q(i).then(e=>{var t=e.history.messages,r=e.channel||e.group||e.im,n=r&&r.id,a=e.history.channel_actions_count,o=Number.isInteger(a)?{channelId:n,count:a}:null;return{channelData:r,messagesData:{msgs:t,channelId:n,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:o}}).catch(e=>(Object(P.b)().error("BOOT","unable to fetch/format messages data",e),null))}function Z(e){var{team:t,links:r,subteams:a,self:o,prefs:s,app_homes:d,paid_features:l,emoji_cache_ts:u,commands_cache_ts:_,can_manage_shared_channels:m,accept_tos_url:p,channels_prefs:b,should_reload:f,client_min_version:h,is_europe:v}=e,g=Object(n.a)(e,["team","links","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version","is_europe"]),O={};if(!Object(i.a)(f)&&(O.should_reload=f,O.client_min_version=h,f))return O;var S,I=Object.assign({},t.prefs,{can_user_manage_shared_channels:m}),y=[...a.self],j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[...e.channels||[],...e.ims||[],...e.mpims||[]],r=[];if(t.length)for(var{last_read:n={},channels_priority:a={},starred:o=[],is_open:i=[],thread_only_channels:s=[],read_only_channels:c=[]}=e,d=new Set(o),l=new Set(i),u=new Set(s),_=new Set(c),m=t.length,p=0;p<m;p++){var b=t[p],f=b.id;b.latest="0000000000.000000",b.is_member=!0,b.last_read=n[f],b.priority=a[f],b.is_starred=d.has(f),V(b)||H(b)?b.is_open=l.has(f):(b.is_thread_only=u.has(f),b.is_read_only=_.has(f)),r.push(b)}return r}(Object.assign({},g,{teamId:t.id})),E=(e.ims||[]).map(e=>z(e)),T=(S=e.mpims)?Object(c.a)(S,(e,t)=>{if(!t)return e;var r=Q(t)||[];return e.push(...r),e},[]):[],A=E.concat(T).filter((e,t,r)=>r.indexOf(e)===t),F={cacheTs:u},k={cacheTs:_};return O=Object.assign({},O,{selfData:o,teamData:t,teamPrefsData:I,userPrefsData:s,channelsData:j,appHomesData:d,membersToFetch:A,userGroupMembershipData:y,paidFeatures:l,emojiBootData:F,slashCommandsBootData:k,acceptTosUrl:p,channelsPrefsData:b,isEurope:v,domainsBootData:r})}var $="cse-api",ee="cse-boot-api",te=1;function re(e){var{bootQueue:t,token:r,teamId:n,reason:a,userId:i}=e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(M.a)(),n=r.createTrace({traceName:$,tags:t,sampleRate:te});if(!n||!n.traceFn)return Object(P.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return n.traceFn({name:ee,onError:(e,t)=>{var a={state:U.a.ERROR};t.status&&(a.status=t.status);t.message&&(a.message=t.message);t.data&&t.data.error&&(a.reason=t.data.error);e.addTags(a),e.close(),r.reportTrace(n)},onResolve:(e,t)=>{if(Object(o.a)(t)){var a={state:U.a.SUCCESS,message:"client_boot_empty"};e.addTags(a),e.close(),r.reportTrace(n)}else r.clearTrace(n)}},e)}(k.b.bind(this,{bootQueue:t,token:r,teamId:n,reason:a}),{teamId:n,userId:i,reason:a}).then(Z)}},"0Wfr":function(e,t,r){"use strict";var n=r("zLVn"),a=r("3Hq1"),o=r("UXvI"),i=r("oTSI"),s=r("brL+"),c=r("6jsb"),d=Object(i.a)(function(){var{dispatchThunk:e,throttleRate:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)(e,t)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.a)(e,["dispatchThunk"]);return JSON.stringify(t)});t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.getType||!e.getType())throw new Error("createThrottledThunk must be passed a valid thunk");if(Object(a.a)(t))throw new Error("createThrottledThunk must be passed a throttleRate");var n='Throttled version of thunk "'+e.getType()+'"',o=Object(c.b)(n,(a,o,i)=>{var c=Object(s.b)(o()),l={dispatchThunk:function(){return a(e(...arguments))},throttleRate:t,description:n,teamId:c};return d(r?Object.assign({},l,{},i):l)(i)});return o.meta={name:"throttledThunk",key:"helpersCreateThrottledThunkThrottledThunk",description:n},o.propTypes=e.propTypes,o}},"1hAG":function(e,t,r){"use strict";r.d(t,"j",function(){return I}),r.d(t,"k",function(){return y}),r.d(t,"l",function(){return j}),r.d(t,"c",function(){return E}),r.d(t,"i",function(){return T}),r.d(t,"d",function(){return A}),r.d(t,"e",function(){return F}),r.d(t,"a",function(){return k}),r.d(t,"b",function(){return w}),r.d(t,"h",function(){return D}),r.d(t,"f",function(){return C}),r.d(t,"g",function(){return R});var n=r("oTSI"),a=r("vFlG"),o=r("CpTu"),i=r("Z0Cl"),s=r("Wy5O"),c=r("zgq7"),d=r("Vp6b"),l=r("1zbP"),u=r("ROZo"),_=(Object(u.b)("TS.refreshTeams"),Object(u.b)("TS.teams.ensureTeamsArePresent"),Object(u.b)("TS.teams.changed_is_unknown_sig.dispatch")),m=(Object(u.b)("TS.teams.rename_sig.dispatch"),Object(u.b)("TS.teams.changed_icon_sig.dispatch"),Object(u.b)("TS.team.team_profile_changed_sig.dispatch"),Object(u.b)("TS.team.team_name_changed_sig.dispatch"),Object(u.b)("TS.team.team_domain_changed_sig.dispatch"),Object(u.b)("TS.team.team_email_domain_changed_sig.dispatch"),r("lhZz")),p=r("5mKg"),b=r("k2C/"),f=r("brL+"),h=r("zbZx"),v=r("NshN"),g=r("c6rO");function O(e,t){var r=t.map(t=>Object(m.dispatchForTeamId)(e,Object(g.c)({team:t})));_(r)}var S=Object(n.a)(()=>new l.a({fetch:(e,t)=>(function(e,t,r){if(!r)throw new Error("fetchTeamsForTeamId requires a reason");var n=Object(m.getStateByTeamId)(e),a=t.filter(e=>n&&n.teams&&n.teams[e]),o=Object(s.a)(t,a);return Object(m.dispatchForTeamId)(e,Object(d.a)({ids:o,reason:r})).catch(()=>[]).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=Object(m.getStateByTeamId)(e),n=a.map(e=>r&&r.teams[e]);return t.concat(n)})})(e,t,"UnknownFetchManager"),metricsName:"teams",upsertKnown:O,upsertNonExistent:O}));var I=Object(c.b)(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e&&(Object(b.b)(t)||Object(b.a)(t))?function(e,t,r){var n=e&&e.teams&&e.teams[t],a=Object(f.b)(e)||Object(f.a)(e);return n?(Object(v.b)(a,n.id),n):r?S().fetchObjectWithId(a,t):null}(e,t,r):null});I.meta={name:"getTeamById",key:"teamsStoreTeamsSelectorsGetTeamById"};var y=Object(c.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.map(t=>I(e,t,r)).filter(e=>e)});y.meta={name:"getTeamsById",key:"teamsStoreTeamsSelectorsGetTeamsById"},Object(c.b)((e,t)=>I(e,function(e,t){var r=Object(o.a)(e&&e.teams,{enterprise_id:t});return r&&r.id}(e,t))).meta={name:"getTeamByEnterpriseId",key:"teamsStoreTeamsSelectorsGetTeamByEnterpriseId"};var j=Object(c.b)((e,t)=>Object(a.a)(e,["teams",t]));j.meta={name:"hasTeamWithId",key:"teamsStoreTeamsSelectorsHasTeamWithId"};var E=Object(c.b)(e=>e&&e.teams);E.meta={name:"getAllTeams",key:"teamsStoreTeamsSelectorsGetAllTeams"};var T=Object(c.b)((e,t)=>{var r=Object(o.a)(e&&e.teams,{domain:t});return r&&r.id&&I(e,r.id)});T.meta={name:"getTeamByDomain",key:"teamsStoreTeamsSelectorsGetTeamByDomain"};var A=Object(c.b)(e=>I(e,Object(f.b)(e)));A.meta={name:"getCurrentTeam",key:"teamsStoreTeamsSelectorsGetCurrentTeam"};var F=Object(c.b)(e=>I(e,Object(f.d)(e)));F.meta={name:"getCurrentTopLevelTeam",key:"teamsStoreTeamsSelectorsGetCurrentTopLevelTeam"};var k=Object(c.b)(e=>e&&e.teams&&Object(i.a)(e.teams,"enterprise_id"));k.meta={name:"getAllEnterpriseTeams",key:"teamsStoreTeamsSelectorsGetAllEnterpriseTeams"};var w=Object(c.b)(e=>e&&e.teams&&Object(i.a)(e.teams,t=>Object(p.F)(e,t)));w.meta={name:"getAllExternalTeams",key:"teamsStoreTeamsSelectorsGetAllExternalTeams"},Object(c.b)((e,t)=>!(!e||!t)&&Object(p.r)(e&&e.teams&&e.teams[t])).meta={name:"isTeamExistent",key:"teamsStoreTeamsSelectorsIsTeamExistent"};var D=Object(c.b)(e=>{if(e){var t=Object(f.a)(e);return t?I(e,t):null}});D.meta={name:"getSelfEnterpriseTeam",key:"teamsStoreTeamsSelectorsGetSelfEnterpriseTeam"};var C=Object(c.b)(e=>{if(e){var t=D(e)||{};return Object(h.b)(t)}});C.meta={name:"getSelfEnterpriseOrgName",key:"teamsStoreTeamsSelectorsGetSelfEnterpriseOrgName"};var R=Object(c.b)(e=>{if(!e)return"";var t=D(e)||{};return Object(h.c)(t)});R.meta={name:"getSelfEnterpriseOwnerEmail",key:"teamsStoreTeamsSelectorsGetSelfEnterpriseOwnerEmail"},Object(c.b)(e=>{if(!e)return"";var t=D(e)||{};return Object(h.a)(t)}).meta={name:"getSelfEnterpriseIDPLabel",key:"teamsStoreTeamsSelectorsGetSelfEnterpriseIDPLabel"},Object(c.b)(e=>e&&e.bootData&&e.bootData.enterprise_url?"https://"+e.bootData.enterprise_url+"/":"").meta={name:"getSelfEnterpriseOrgUrl",key:"teamsStoreTeamsSelectorsGetSelfEnterpriseOrgUrl"}},"1zgd":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("rWF5"),a=r("Yd+W"),o=e=>(e.subtype!==a.f.EnableNotifications||!Object(n.l)())&&!(e.subtype===a.f.DownloadDesktopApp&&!Object(n.j)())},"4B0G":function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return a});var n={CANADA:"Canada",JAPAN:"Japan",MALAYSIA:"Malaysia",RUSSIAN_FEDERATION:"Russian Federation",SINGAPORE:"Singapore",SOUTH_AFRICA:"South Africa",SOUTH_KOREA:"Republic of Korea",SWITZERLAND:"Switzerland",UNITED_KINGDOM:"United Kingdom",UNITED_KINGDOM_UK:"United Kingdom (UK)",UNITED_STATES:"United States"},a={COMPANY_NAME_IS_REQUIRED:"company_name_is_required",STREET_IS_REQUIRED:"street_is_required",CITY_IS_REQUIRED:"city_is_required",POSTAL_CODE_IS_REQUIRED:"postal_code_is_required",ZIP_CODE_IS_REQUIRED:"zip_code_is_required",REGION_IS_REQUIRED:"region_is_required",STATE_IS_REQUIRED:"state_is_required",COUNTRY_IS_REQUIRED:"country_is_required",VAT_ID_IS_REQUIRED:"vat_id_is_required",TIN_ID_IS_REQUIRED:"tin_id_is_required",BRN_IS_REQUIRED:"brn_is_required",IS_BUSINESS_PURCHASE_IS_REQUIRED:"is_business_purchase_is_required",STREET_INVALID_CHARACTERS:"street_invalid_characters",CITY_INVALID_CHARACTERS:"city_invalid_characters",REGION_INVALID_CHARACTERS:"region_invalid_characters",STATE_INVALID_CHARACTERS:"state_invalid_characters",POSTAL_CODE_INVALID_CHARACTERS:"postal_code_invalid_characters",ZIP_CODE_INVALID_CHARACTERS:"zip_code_invalid_characters",ABN_ID_INVALID_CHARACTERS:"abn_id_invalid_characters",US_ZIP_CODE_INVALID_FORMAT:"us_zip_code_invalid_format",CANADA_POSTAL_CODE_INVALID_FORMAT:"canada_zip_code_invalid_format",ZIP_CODE_INVALID_API_ERROR:"zipcode_invalid_api_error",VAT_ID_INVALID_API_ERROR:"vat_id_invalid_api_error",VAT_ID_INPUT_ERROR:"vat_input_error",VAT_ID_INVALID_FORMAT:"vat_id_invalid_format",API_ERROR:"api_error",ABN_ID_INVALID_LENGTH:"abn_id_invalid_length",QST_ID_INVALID_FORMAT:"qst_id_invalid_format",TIN_ID_INVALID_LENGTH:"tin_id_invalid_length",BRN_INVALID_FORMAT:"brn_invalid_format",ADDRESS_INPUT_ERROR:"address_input_error",ERROR_UPDATING_BILLING_ADDRESS:"error_updating_billing_address",NO_PERMS:"no_perms",INVALID_AUTH:"invalid_auth",DEFAULT_ERROR:"default_error"},o={ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX:/^[a-zA-Z\xc0-\xff0-9-'-/.\s]+$/i,ALPHA_NUMERIC_WITH_DASH_REGEX:/^[A-Z0-9-\-\s]+$/i,ABN_ID_REGEX:/^(\d *?){11}$/i,QST_ID_TQ_REGEX:/^([0-9]){10}TQ([0-9]){4}$/i,QST_ID_NINE_NUM_REGEX:/^([0-9]){9}$/i,QST_ID_TEN_NUM_REGEX:/^([0-9]){10}$/i,QST_ID_NR_REGEX:/^NR([0-9]){8}$/i,US_POSTAL_CODE_FORMAT_REGEX:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/i,CANADA_POSTAL_CODE_FORMAT_REGEX:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1} *\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1}\d{1}$/i},i={COMPANY_NAME:"companyName",STREET:"street",SUITE:"suite",CITY:"city",REGION:"region",POSTAL_CODE:"postalCode",COUNTRY:"country",IS_BUSINESS_PURCHASE:"isBusinessPurchase",IS_VAT_AVAILABLE:"isVatIdAvailable",VAT_ID:"vatId",ABN_ID:"abnId",QST_ID:"qstId"},s={COMPANY_NAME:"",STREET:"",SUITE:"",CITY:"",REGION:"",POSTAL_CODE:"",COUNTRY:"",IS_BUSINESS_PURCHASE:!0,IS_VAT_AVAILABLE:!0,VAT_ID:"",ABN_ID:"",QST_ID:""}},"4c9C":function(e,t,r){"use strict";r.d(t,"b",function(){return F}),r.d(t,"m",function(){return k}),r.d(t,"n",function(){return w}),r.d(t,"k",function(){return D}),r.d(t,"l",function(){return R}),r.d(t,"j",function(){return P}),r.d(t,"i",function(){return N}),r.d(t,"a",function(){return x}),r.d(t,"h",function(){return B}),r.d(t,"d",function(){return L}),r.d(t,"c",function(){return M}),r.d(t,"f",function(){return U}),r.d(t,"g",function(){return W}),r.d(t,"e",function(){return G});var n=r("wd/R"),a=r.n(n),o=r("4Z3G"),i=r("aK/h"),s=r("zgq7"),c=r("6jsb"),d=r("oTSI"),l=53,u=new Map,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=u.get(t);r||(r=new Map,u.set(t,r));var n=r.get(e);return n||(n=Symbol(e),r.set(e,n)),n};function m(e){for(var t=new Array(l),r=e,n=0,a=0;r>0;a++)n=r%2,t[a]=!!n,r=(r-n)/2;return t}function p(e){for(var t=0,r=1,n=0;n<l;n++)t+=(e[n]?1:0)*r,r*=2;return t}var b=Object(d.a)((e,t)=>{for(var r=m(e),n=m(t),a=new Array(l),o=0;o<l;o++)a[o]=r[o]&&n[o];return p(a)},_),f=Object(d.a)((e,t)=>{for(var r=m(e),n=m(t),a=new Array(l),o=0;o<l;o++)a[o]=r[o]||n[o];return p(a)},_),h=Object(d.a)(e=>{for(var t=new Array(l),r=e,n=0,a=0;a<l;a++)n=r%2,t[a]=!n,r=(r-n)/2;return p(t)}),v=Object.freeze([...Array(l).keys()].reduce((e,t)=>(e["MASK_"+(t+1)]=2**t,e),{})),g=r("IniL"),O=r("XL7r"),S=r("s0HP"),I=r("+cPl"),y=r("yhG8"),j=r("s4P+"),E=r("quKg"),T=e=>Object(O.m)(e,"onboarding_state")||0,A=e=>{switch(e){case"setup_started":return v.MASK_1;case"setup_completed":return v.MASK_2;case"setup_step_channels":return v.MASK_3;case"setup_step_invites":return v.MASK_4;case"setup_channel_header_shown":return v.MASK_5;case"setup_invite_step_skipped":return v.MASK_30;case"welcome_task_1_complete":return v.MASK_6;case"welcome_task_2_complete":return v.MASK_7;case"welcome_task_3_complete":return v.MASK_28;case"welcome_task_4_complete":return v.MASK_29;case"welcome_task_complete":return v.MASK_8;case"announcements_task_1_complete":return v.MASK_9;case"announcements_task_2_complete":return v.MASK_10;case"announcements_task_complete":return v.MASK_11;case"project_task_1_complete":return v.MASK_12;case"project_task_2_complete":return v.MASK_13;case"project_task_complete":return v.MASK_14;case"brainstorming_task_1_complete":return v.MASK_15;case"brainstorming_task_2_complete":return v.MASK_16;case"brainstorming_task_complete":return v.MASK_17;case"sync_task_1_complete":return v.MASK_18;case"sync_task_2_complete":return v.MASK_19;case"sync_task_complete":return v.MASK_20;case"team_task_1_complete":return v.MASK_21;case"team_task_2_complete":return v.MASK_22;case"team_task_complete":return v.MASK_23;case"dm_task_1_complete":return v.MASK_24;case"dm_task_2_complete":return v.MASK_25;case"dm_task_complete":return v.MASK_26;case"onboarding_completed":return v.MASK_27;case"people_task_complete":return v.MASK_31;case"files_task_complete":return v.MASK_32;case"generic_task_complete":return v.MASK_33;case"generic_task_1_complete":return v.MASK_34;case"generic_task_2_complete":return v.MASK_35;case"generic_task_3_complete":return v.MASK_36;case"apps_task_1_complete":return v.MASK_37;case"apps_task_complete":return v.MASK_38;case"project_add_cta_complete":return v.MASK_39;case"general_add_cta_complete":return v.MASK_40;case"random_add_cta_complete":return v.MASK_41;case"generic_add_cta_complete":return v.MASK_42;case"general_task_complete":return v.MASK_43;case"random_task_complete":return v.MASK_44;case"mpdm_task_complete":return v.MASK_45;case"self_dm_task_complete":return v.MASK_46;case"message_input_cta_complete":return v.MASK_47;case"setup_step_convo":return v.MASK_48;case"setup_send_message_step_complete":return v.MASK_49;case"setup_channel_coachmark_complete":return v.MASK_50;case"setup_channel_foreword_complete":return v.MASK_51;default:return 0}},F=Object(s.b)((e,t)=>{var r=A(t),n=T(e);return!!b(n,r)});F.meta={name:"getUserOnboardingPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetUserOnboardingPref"};var k=Object(c.b)("Set onboarding state pref from push event",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=T(t());e(Object(S.b)({pref:"onboarding_state",value:f(n,r)}))});k.meta={name:"setOnboardingStatePref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetOnboardingStatePref",description:"Set onboarding state pref from push event"},k.propTypes=i.default.number;var w=Object(c.b)("Set a derived boolean pref via the setPref API, updating local prefs optimistically first",function(e,t){var{pref:r,value:n,retry:a=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a>2)return o.a.resolve();var i=((e,t,r)=>{var n=A(t),a=T(e);return r?f(a,n):b(a,h(n))})(t(),r,n),s={pref:"onboarding_state",value:i},c=Object(j.a)({getState:t,label:"USER_ONBOARDING"});return c.info("Applied "+r+": "+!!n+" to onboarding_state: "+i),a&&c.error("Applied "+r+": "+!!n+" to onboarding_state: "+i+", retry "+a),e(Object(S.b)(s)),e(Object(I.f)(s)).catch(()=>e(w({pref:r,value:n,retry:a+1})))});w.meta={name:"setUserOnboardingPrefByApi",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefSetUserOnboardingPrefByApi",description:"Set a derived boolean pref via the setPref API, updating local prefs optimistically first"},w.propTypes={pref:i.default.string.isRequired,value:i.default.any};var D=Object(s.b)(e=>F(e,"setup_started")&&!F(e,"onboarding_completed"));D.meta={name:"inUserOnboardingExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperiment"};var C=Object(s.b)((e,t)=>e&&e.members&&e.members[t]);C.meta={name:"getRawMemberById",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetRawMemberById"};var R=Object(s.b)(e=>{var t=Object(g.b)(e),r=C(e,t),n=null==r?void 0:r.first_login;return D(e)&&Object(g.j)(e,"feature_day1_five_copy")&&(!n||n>a()("2020-08-05").valueOf()/1e3)});R.meta={name:"inUserOnboardingExperimentFive",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingExperimentFive"};var P=Object(s.b)(e=>"treatment"===Object(E.c)(e,"day1_convo")&&Object(g.j)(e,"feature_day1_convo"));P.meta={name:"inUserOnboardingConvoExperiment",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefInUserOnboardingConvoExperiment"};var N=Object(s.b)(e=>{var t=Object(g.b)(e),r=C(e,t),n=null==r?void 0:r.first_login;return F(e,"setup_started")&&Object(g.j)(e,"feature_day1_five_copy")&&(!n||n>a()("2020-08-05").valueOf()/1e3)});N.meta={name:"hasUserOnboardingExperimentFiveUI",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasUserOnboardingExperimentFiveUI"};var x=Object(s.b)((e,t,r)=>{var n,a=[...Object.values(y.e),...Object.values(y.c)];if(t&&a.includes(t)&&(n=t+"_task_complete"),r&&"P"===r[0]){var o={PEOPLE:"Pbrowse-people",FILES:"Pbrowse-files",APPS:"Papps"};switch(r){case o.PEOPLE:n="people_task_complete";break;case o.FILES:n="files_task_complete";break;case o.APPS:n="apps_task_complete";break;default:return!0}}return F(e,n)});x.meta={name:"getChannelBannerPref",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefGetChannelBannerPref"};var B=Object(s.b)(e=>["welcome","team","project","brainstorming","announcements","sync","dm","people","files","generic","apps","mpdm","self_dm","general","random"].some(t=>F(e,t+"_task_complete")));B.meta={name:"hasCompletedTask",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedTask"};var L=Object(s.b)((e,t)=>{if(!D(e))return!0;if(R(e))switch(t){case y.c.GENERAL:case y.e.RANDOM:case y.e.PROJECT:case y.e.DM:case y.e.MPDM:case y.e.SELF_DM:return F(e,t+"_task_complete");default:return!0}return F(e,t+"_task_complete")});L.meta={name:"hasCompletedChannelTasks",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedChannelTasks"};var M=Object(s.b)((e,t)=>!R(e)||F(e,t+"_add_cta_complete"));M.meta={name:"hasCompletedChannelAddCta",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedChannelAddCta"};var U=Object(s.b)(e=>!R(e)||F(e,"message_input_cta_complete"));U.meta={name:"hasCompletedMessageInputCta",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedMessageInputCta"};var W=Object(s.b)(e=>!P(e)||F(e,"setup_send_message_step_complete"));W.meta={name:"hasCompletedStartConvoSendMessageStep",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedStartConvoSendMessageStep"};var G=Object(s.b)(e=>!P(e)||F(e,"setup_channel_foreword_complete"));G.meta={name:"hasCompletedFirstChannelForeword",key:"prefsStoreUserDerivedSelectorsUserOnboardingPrefHasCompletedFirstChannelForeword"}},"4v0o":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},"5MVR":function(e,t,r){"use strict";function n(e){var{replacer:t,space:r,fallback:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.stringify(e,t,r)}catch(a){return n}}function a(e){try{return JSON.stringify(e).length}catch(t){return null}}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a})},"5mKg":function(e,t,r){"use strict";r.d(t,"E",function(){return g}),r.d(t,"A",function(){return O}),r.d(t,"q",function(){return S}),r.d(t,"g",function(){return I}),r.d(t,"C",function(){return y}),r.d(t,"D",function(){return j}),r.d(t,"K",function(){return E}),r.d(t,"J",function(){return T}),r.d(t,"s",function(){return A}),r.d(t,"r",function(){return F}),r.d(t,"d",function(){return k}),r.d(t,"l",function(){return w}),r.d(t,"t",function(){return D}),r.d(t,"v",function(){return C}),r.d(t,"x",function(){return R}),r.d(t,"u",function(){return P}),r.d(t,"w",function(){return N}),r.d(t,"z",function(){return x}),r.d(t,"y",function(){return B}),r.d(t,"H",function(){return L}),r.d(t,"I",function(){return M}),r.d(t,"B",function(){return U}),r.d(t,"a",function(){return W}),r.d(t,"L",function(){return G}),r.d(t,"h",function(){return K}),r.d(t,"i",function(){return q}),r.d(t,"e",function(){return V}),r.d(t,"b",function(){return H}),r.d(t,"F",function(){return z}),r.d(t,"n",function(){return Q}),r.d(t,"o",function(){return Y}),r.d(t,"j",function(){return X}),r.d(t,"f",function(){return J}),r.d(t,"k",function(){return Z}),r.d(t,"m",function(){return $}),r.d(t,"N",function(){return ee}),r.d(t,"M",function(){return te}),r.d(t,"G",function(){return re}),r.d(t,"p",function(){return ne}),r.d(t,"c",function(){return ae});r("fujP");var n=r("OtLZ"),a=(r("IzLi"),r("7EGn")),o=r("1zbP"),i=r("lhZz"),s=r("h9PG"),c=r("brL+"),d=r("rWF5"),l=r("k2C/"),u=r("1hAG"),_=r("vFlG"),m=r("zgq7"),p=Object(m.b)((e,t)=>Object(_.a)(e,["externalTeamIds",t]));p.meta={name:"isTeamExternalById",key:"externalTeamIdsStoreExternalTeamIdsSelectorsIsTeamExternalById"};var b=r("RrZ/"),f=r("t0rW"),h=r("vfQU"),v=r("nNoG");function g(e){return e&&Object(l.a)(e.id)}function O(e){return!!e&&!!e.plan&&""!==e.plan}function S(e){return!!e&&!!e.enterprise_id}function I(e){return e&&e.enterprise_id}function y(e){var t=Object(s.a)(Object(i.getStateByTeamId)(e.id),"auth_mode");return t&&"normal"!==t}function j(e){return!1===Object(s.a)(Object(i.getStateByTeamId)(e.id),"sso_choose_username")}function E(e){return Object(o.e)(e)}function T(e){return Object(o.d)(e)}function A(e){return Object(o.c)(e)}function F(e){return Object(o.b)(e)}function k(e){var t=new v.b("team_token").t("Unknown Workspace");return!e||A(e)?t:T(e)?t:e.name?e.name:t}function w(e){return e&&e.profile&&e.profile.fields}function D(e){return!!e&&"compliance"===e.plan}function C(e){return!!e&&"plus"===e.plan}function R(e){return!!e&&"std"===e.plan}function P(e){return!!e&&!e.plan&&!S(e)}function N(e){return!!e&&(C(e)||D(e)||S(e))}function x(e){return!!e&&e.over_storage_limit}function B(e){return P(e)&&e.messages_count>=10100}function L(e){return function(e){return!!e&&e.is_migrating}(e)||W(e)}function M(e,t){return!!t&&L(Object(u.j)(e,t))}function U(e,t){if(P(t))return!1;var r=Object(a.a)(Object(f.b)(e),"value");return!r||r!==f.a.STANDARD.NO_ONE&&r!==f.a.GRID.NO_ONE}function W(e){return!!e&&!1===e.is_migrating&&!!e.externalOrgMigrated}function G(e){return!!e&&!!e.is_verified}function K(e){return e&&e.icon}function q(e){return e&&e.id}function V(e){return e&&e.domain}function H(e,t){return Object(l.b)(e)?t+".enterprise":t}function z(e,t){if(!e||!t)return!1;var r=q(t);if(Object(c.d)(e)===r||Object(c.b)(e)===r)return!1;var n=Object(c.a)(e);return(!n||n!==t.enterprise_id)&&p(e,t.id)}function Q(e,t){if(!t||!t.id)return!1;var r=Object(b.a)(e,t.id),n=Object(b.b)(e,t.id);return r?(r.public||0)+(r.private||0)>0:n&&n.length>0}function Y(e,t){if(!t||!t.id)return!1;var r=Object(b.a)(e,t.id);return r&&(r.im||0)+(r.mpim||0)>0}function X(e){var{limit:t=1/0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";var r=e.replace(/[^\w\s-]/g,"").split(/[\s|-]+/).map(e=>e[0]).slice(0,t).join("");return r?r.toUpperCase():e.slice(0,t)}function J(e){return e.email_domain}function Z(e){return e&&e.limit_ts||0}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object(d.i)(),a=e?e.domain+".":"my.",o=n.envSubdomain?n.envSubdomain+".":"",i=n.isEU?"slack.eu":"slack.com",s=e&&e.id&&Object(l.b)(e.id)?"enterprise.":"";return r?""+a+s+i:"https://"+a+s+o+i+"/"+("/"===t[0]?t.slice(1,t.length):t)}function ee(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_blank",n=$(e),a="/"===t[0]?t.slice(1,t.length):t;Object(h.fb)()?(n+="web/open/"+a,Object(h.Lb)(n)):(n+=a,window.open(n,r))}function te(e,t){var r=Object(c.d)(e);return Object(n.a)(t,r)}function re(e){return!!e&&!!e.is_unlisted}function ne(e){return!0===Object(s.a)(Object(i.getStateByTeamId)(e),"has_redeemed_shared_channels_free_trial_offer")}function ae(e){return Object(s.a)(Object(i.getStateByTeamId)(e),"shared_channels_free_trial_date_expired")}},"70KD":function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"b",function(){return d});var n=r("A2B7"),a=r("MNvw"),o=r("zgq7"),i=Object(n.b)("Increments the major CFM version number.");i.meta={name:"incrementMajorVersion",key:"cfmStoreIncrementMajorVersion",description:"Increments the major CFM version number."},i.propTypes=null;var s=Object(n.b)("Increments the minor CFM version number.");s.meta={name:"incrementMinorVersion",key:"cfmStoreIncrementMinorVersion",description:"Increments the minor CFM version number."},s.propTypes=null;var c=Object(a.b)({[i]:e=>{var{major:t,minor:r}=e;return{minor:r,major:t+1}},[s]:e=>{var{major:t,minor:r}=e;return{major:t,minor:r+1}}},{major:1,minor:1},{storeKey:"cfm",persistenceEnabled:!1});c.meta={name:"cfm",key:"cfmStoreCfm"},c.propTypes={},t.a=c;var d=Object(o.b)(e=>e&&e.cfm&&e.cfm.major);d.meta={name:"getMajorVersion",key:"cfmStoreGetMajorVersion"},Object(o.b)(e=>e&&e.cfm&&e.cfm.minor).meta={name:"getMinorVersion",key:"cfmStoreGetMinorVersion"}},"8Fba":function(e,t,r){"use strict";r.d(t,"j",function(){return n}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"o",function(){return c}),r.d(t,"p",function(){return d}),r.d(t,"r",function(){return l}),r.d(t,"s",function(){return u}),r.d(t,"l",function(){return _}),r.d(t,"n",function(){return m}),r.d(t,"q",function(){return p}),r.d(t,"c",function(){return b}),r.d(t,"k",function(){return f}),r.d(t,"d",function(){return h}),r.d(t,"i",function(){return v}),r.d(t,"m",function(){return g}),r.d(t,"h",function(){return O}),r.d(t,"b",function(){return S});var n={CHECKOUT_CALCULATOR_FOOTER:"checkout_calculator_footer",CHECKOUT_HEADER:"checkout_header",SIDEBAR_FOOTER:"sidebar_footer",TEAM_MENU_VISUAL_PROMO:"team_menu_visual_promo",TEAM_MENU_TEXT_PROMO:"team_menu_text_promo",WORKSPACE_MENU_PRIMARY_PLAN_INFO:"workspace_menu_primary_plan_info",WORKSPACE_MENU_SECONDARY_PLAN_INFO:"workspace_menu_secondary_plan_info",MESSAGE_PANE:"message_pane",DUNNING_NOTICE:"dunning_notice",IN_PRODUCT_COACHMARK:"in_product_coachmark",LAUNCH_MODAL:"launch_modal",WELCOME_PLACE:"welcome_place",MESSAGE_ACTIONS:"message_actions",DM_CALL_BLOCK:"dm_call_block",DM_VIEW_HEADER_CALL_TIP:"dm_view_header_call_tip"},a={DUNNING_DAY_1_BANNER:"dunning_day_1_banner",DUNNING_DAY_3_BANNER:"dunning_day_3_banner",DUNNING_DAY_7_OWNER_CARDHOLDER_BANNER:"dunning_day_7_owner_cardholder_banner",DUNNING_DAY_7_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_7_admin_billing_contacts_banner",DUNNING_DAY_14_OWNER_CARDHOLDER_BANNER:"dunning_day_14_owner_cardholder_banner",DUNNING_DAY_14_ADMIN_BILLING_CONTACTS_BANNER:"dunning_day_14_admin_billing_contacts_banner",DUNNING_DAY_21_BILLING_STAKEHOLDERS_BANNER:"dunning_day_21_billing_stakeholders_banner",DUNNING_DAY_21_ALL_USERS_BANNER:"dunning_day_21_all_users_banner"},o={REACTJI_AWARENESS_COACHMARK:"reactji_awareness_coachmark",MENTION_AWARENESS_INLINE_TIP:"mention_awareness_inline_tip",CUSTOM_STATUS_AWARENESS:"custom_status_awareness_coachmark"},i={TRIAL_LAST_DAY_MODAL:"trial_last_day_modal",TRIAL_DOWNGRADE_SURVEY:"trial_downgrade_survey"},s={PARTNER_PROMO:"partner_promo_checkout_calculator_footer"},c={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",DISCOUNT_PROMO:"discount_promo"},d={LIMIT_METER:"limit_meter"},l={PLAN_INFO:"plan_info",TRIAL_INFO:"trial_info",LIMIT_METER:"limit_meter"},u={DISCOUNT_PROMO:"discount_promo"},_={JAPAN_SEND_BUTTON:"i18n_japan_beta_send_btn_banner",TENURED_TEAM_DISCOUNT_ONE_WEEK_LEFT:"one_week_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_ONE_DAY_LEFT:"one_day_left_tenured_discount_banner",TENURED_TEAM_DISCOUNT_AWARENESS:"tenured_discount_awareness_banner",EDUCATION_TEAM_DISCOUNT:"education_discount_promo_banner",LOCAL_DISCOUNT_AWARENESS:"local_discount_awareness_banner",ESC_TRIAL:"shared_channel_trial_banner",ESC_TRIAL_TWO_WEEKS_LEFT:"two_weeks_left_esc_trial_banner",ESC_TRIAL_ONE_WEEK_LEFT:"one_week_left_esc_trial_banner",ESC_TRIAL_THREE_DAYS_LEFT:"three_days_left_esc_trial_banner",TRIAL_SEVEN_DAYS_LEFT:"seven_days_left_trial_banner",TRIAL_THREE_DAYS_LEFT:"three_days_left_trial_banner",FILE_LIMIT_APPROACHING:"approaching_file_limit_banner",MESSAGE_LIMIT_ACTIVATION:"activation_msg_limit_banner",MESSAGE_LIMIT_APPROACHING:"approaching_msg_limit_banner",MESSAGE_LIMIT_JUST_REACHED:"just_reached_msg_limit_banner",MESSAGE_LIMIT_THIRTY_DAYS_AFTER:"thirty_days_after_msg_limit_banner",TEAM_CREATION_ACCOUNT_SETUP:"team_creation_account_setup_banner"},m={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button",SIDEBAR_NOTIFICATION_SETTINGS_PROMPT:"sidebar_notification_settings_prompt",SIDEBAR_DOWNLOAD_APP_PROMPT:"sidebar_download_app_prompt"},p={REMOTE_WORK_BANNER:"remote_work_banner"},b={GROUP_CALLS_DISCOVERY_PROMPT:"group_calls_discovery_prompt"},f={QUICK_REACTIONS:"quick_reactions"},h={ONE_ON_ONE_CALLS_DISCOVERY_TIP:"one_on_one_calls_discovery_tip"},v={IMPRESSION:"impression",DISMISS:"dismiss"},g={BENEFITS_PAGE:"benefits_page"},O="MEGAPHONE",S={discountPct:"discountPercent",noOfDaysLeft:"numDaysLeft",payDateNext:"expirationDate",planExpirationTs:"expirationTs",subtype:"promoSubType",renewalLevel:"planRenewalLevel"}},"9kTo":function(e,t,r){"use strict";t.a=(()=>document&&document.documentElement&&document.documentElement.dataset&&"docs"===document.documentElement.dataset.app)},"9soY":function(e,t,r){"use strict";r.d(t,"d",function(){return f}),r.d(t,"a",function(){return h}),r.d(t,"c",function(){return v}),r.d(t,"b",function(){return O}),r.d(t,"e",function(){return S});var n=r("9oTK"),a=r("fujP"),o=r("4Z3G"),i=r("aK/h"),s=r("2XU3"),c=r("6jsb"),d=r("zbZx"),l=r("Vp6b"),u=r("IniL"),_=r("c6rO"),m=r("ShzP"),p=r("Ny3m"),b=r("1hAG"),f=Object(c.b)("Fetch all teams connected via external shared channels",function(e,t){var{ids:r,includeAll:n=!1,includeApprovedOrgs:a=!1,reason:o="fetchExternalTeams"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(s.a)({method:"team.listExternal",args:Object.assign({},r&&{teams:r},{include_all_visible:n?1:0,include_approved_orgs:a?1:0}),reason:o}))});f.meta={name:"fetchExternalTeams",key:"teamsStoreTeamsThunksFetchExternalTeams",description:"Fetch all teams connected via external shared channels"},f.propTypes={ids:i.default.arrayOf(i.default.string),includeAll:i.default.bool,includeApprovedOrgs:i.default.bool,reason:i.default.string};var h=Object(c.b)("Fetch all teams connected via external shared channels",function(e,t){var{ids:r,includeApprovedOrgs:n=!1,reason:a="fetchAndUpsertExternalTeams"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(f({ids:r,includeApprovedOrgs:n,reason:a})).then(r=>{var{teams:n}=r,a=t();return e(Object(p.a)({teams:n})),Object(u.j)(a,"feature_approved_orgs")&&!Object(d.d)(a)&&e(Object(m.b)({teams:n})),g(a,e,n,{allTeamsAreExternal:!0})}).catch(e=>{throw e})});h.meta={name:"fetchAndUpsertExternalTeams",key:"teamsStoreTeamsThunksFetchAndUpsertExternalTeams",description:"Fetch all teams connected via external shared channels"},h.propTypes={ids:i.default.arrayOf(i.default.string),reason:i.default.string};var v=Object(c.b)("Fetches and upserts user groups that match a query",function(){var e=Object(n.coroutine)(function*(e,t){var{query:r,count:n,ids:a,marker:o,reason:i="fetchAndUpsertTeamsWithQuery"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(l.b)({query:r,count:n,ids:a,marker:o,reason:i})).then(function(){var{items:r,next_cursor_mark:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{teams:g(t,e,r),next_cursor_mark:n}})});return function(t,r){return e.apply(this,arguments)}}());function g(e,t,r){var{allTeamsAreExternal:n=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return r.map(e=>t(Object(_.c)({team:e,isExternal:n})))}v.meta={name:"fetchAndUpsertTeamsWithQuery",key:"teamsStoreTeamsThunksFetchAndUpsertTeamsWithQuery",description:"Fetches and upserts user groups that match a query"},v.propTypes={query:i.default.string,reason:i.default.string};var O=Object(c.b)("Fetches and upserts missing teams from the API",function(e,t){var{ids:r,reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(a.a)(r)?o.a.resolve([]):e(Object(l.a)({ids:r,reason:n})).then(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>e(Object(_.c)({team:t})))})});O.meta={name:"fetchAndUpsertTeamsFromAPI",key:"teamsStoreTeamsThunksFetchAndUpsertTeamsFromAPI",description:"Fetches and upserts missing teams from the API"},O.propTypes={ids:i.default.arrayOf(i.default.string).isRequired,reason:i.default.string.isRequired};var S=Object(c.b)("Returns the enterprise organization\u2019s primary owner's email",(e,t)=>{var r=t();return Object(b.g)(r)});S.meta={name:"getSelfEnterpriseOwnerEmail",key:"teamsStoreTeamsThunksGetSelfEnterpriseOwnerEmail",description:"Returns the enterprise organization\u2019s primary owner's email"},S.propTypes={}},"9svP":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("Jnq/");function a(e,t,r){var a=e*Object(n.a)(t,r,!0);return Math.ceil(e+a)}},AjwY:function(e,t,r){"use strict";r.d(t,"g",function(){return s}),r.d(t,"f",function(){return l}),r.d(t,"d",function(){return u}),r.d(t,"a",function(){return _}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return p}),r.d(t,"h",function(){return b}),r.d(t,"e",function(){return f}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return v}),r.d(t,"l",function(){return O}),r.d(t,"i",function(){return S});var n=r("fujP"),a=r("nNoG"),o=(r("4B0G"),r("cewN")),i=(new a.b("pricing_plans"),{vat:"vat",sales_tax:"sales_tax",abn:"abn",jct:"jct",qst:"qst",sst:"sst",gst:"gst"}),s={monthly:"monthly",yearly:"yearly"},c=1,d=12,l={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"},compliance:{id:"compliance",name:"compliance"},enterprise:{id:"enterprise",name:"enterprise"}},u={CREDIT_CARD:"creditCard",INVOICE:"invoice",ACH:"ach"},_=(Object.values(u),"checkout/router"),m={PAID:"paid",FREE:"free"},p={LOCAL:"local_discount",TENURED_TEAM:"tenured_teams_discount",EDUCATION:"educational",NONPROFIT:"nonprofit",WFH_BUNDLE:"wfhbundle"},b={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial"},f={CUSTOMER_SUCCESS_TEAMS:"customer_success_teams",DATA_LOSS_PREVENTION:"data_loss_prevention",GROUP_CALLS:"group_calls",GUARANTEED_UPTIME:"guaranteed_uptime",GUESTS_SHARED_CHANNELS:"guests_shared_channels",HIPAA_COMPLIANCE:"hipaa_compliance",MESSAGE_EXPORTS:"message_exports",SAML_SSO:"saml_sso",UNLIMITED_APPS:"unlimited_apps",UNLIMITED_MESSAGES:"unlimited_messages",UNLIMITED_WORKSPACES:"unlimited_workspaces",USER_PROVISIONING:"user_provisioning"},h=function(){var{planLevel:e,entryPoint:t,feature:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="/plans";return e===l.standard.id?n+="/"+l.standard.name:e===l.plus.id&&(n+="/"+l.plus.name),(t||r)&&(n+=Object(o.c)({entry_point:t,feature:r})),n},v=e=>{var t=(e=>{var t={};if(!Object(n.a)(e.tax)){var r=i.sales_tax;e.tax.tax_name?r=i[e.tax.tax_name.toLowerCase()]||i.sales_tax:e.tax.is_vat&&(r=i.vat),t={value:e.tax.sales_tax_amt,type:r,percentage:e.tax.tax_percentage||0}}return t})(e),r=e.credits?{currentCredits:e.credits.total_credits,creditsRemaining:e.credits.credits_remaining,creditsApplied:e.credits.credits_applied,proratedRefundCredits:e.prorated_refund,totalCreditsRemaining:e.credits.total_credits_remaining||0,totalCreditsApplied:e.credits.total_credits_applied||0}:{},a=e.billable_users?{billableActiveUsers:e.billable_users.billable_active_users,inactiveUsers:e.billable_users.inactive_users,zeroActiveUsers:e.billable_users.zero_active_users}:{},o=e.discount?{name:e.discount.name,amount:e.discount.amount,percentage:e.discount.percentage}:{};return{activePlanCost:{id:e.product_id,subtotal:e.subtotal,undiscountedSubtotal:e.undiscounted_subtotal,billableUsers:a,discount:o,tax:t,credits:r,totalRecurring:e.total_recurring,totalRecurringTax:e.recurring_tax_amt,totalDueToday:e.total_due_today,quotedTermEnd:e.quoted_term_end,paidSeats:e.paid_seats}}},g=e=>{var t="12m"===e.term?s.yearly:s.monthly,r="12m"===e.term?d:c;return{id:e.product_id,term:t,currency:e.currency,level:e.level,lengthOfTermInMonths:r,costPerMonth:e.cost_per_m,costPerTerm:e.cost_per_term,isInvoice:e.is_inv||!1,maxInvoiceSeats:e.max_invoice_seats,minInvoiceSeats:e.min_invoice_seats}},O=e=>{var t={};return Object.keys(e).forEach(r=>{var n=e[r];t[r]={[l.standard.id]:{[u.CREDIT_CARD]:{[s.monthly]:g(n.std_m),[s.yearly]:g(n.std_y)},[u.INVOICE]:{[s.yearly]:g(n.inv_std_y)}},[l.plus.id]:{[u.CREDIT_CARD]:{[s.monthly]:g(n.plus_m),[s.yearly]:g(n.plus_y)},[u.INVOICE]:{[s.yearly]:g(n.inv_plus_y)}},[l.compliance.id]:{[u.CREDIT_CARD]:{[s.yearly]:g(n.compliance_y)},[u.INVOICE]:{[s.yearly]:g(n.inv_compliance_y)}}}}),{availablePlans:t}},S=(e,t,r,n)=>{var{country:a,region:o,street:i,postalCode:s,isBusinessPurchase:c}=t;return[e,a,o,i,s,c,r,n].join("-")}},CXkB:function(e,t,r){"use strict";r.d(t,"d",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"f",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"a",function(){return m}),r.d(t,"c",function(){return p});var n=r("zgq7"),a=r("AjwY"),o=r("N4J5"),i=r("XL7r"),s=r("8Fba"),c=Object(n.b)((e,t)=>{var r;return(null==e?void 0:null===(r=e.megaphoneNotification)||void 0===r?void 0:r[t])||{}});c.meta={name:"selectMegaphoneNotification",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotification"};var d=Object(n.b)((e,t)=>c(e,t).notificationData||{});d.meta={name:"selectMegaphoneNotificationData",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationData"};var l=Object(n.b)((e,t)=>c(e,t).notificationName||null);l.meta={name:"selectMegaphoneNotificationName",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectMegaphoneNotificationName"};var u=Object(n.b)(e=>{var{planRenewalLevel:t,trialExpirationDate:r}=d(e,s.j.SIDEBAR_FOOTER);return t?a.h.PAID:r&&"0000-00-00"!==r?Object(o.a)(r)<=0?a.h.FREE_EXPIRED_TRIAL:a.h.IN_TRIAL:a.h.FREE_NO_TRIAL});u.meta={name:"selectTeamTrialState",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectTeamTrialState"};var _=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.hasSeenReactionTooltipThisSession)||!1});_.meta={name:"hasSeenReactionTooltipThisSession",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsHasSeenReactionTooltipThisSession"};var m=Object(n.b)(e=>{var t=Object(i.m)(e,"growth_all_banners_prefs");return(t=t?JSON.parse(t):{}).shared_channel_trial_banner_cta_last_ts||0});m.meta={name:"getSharedChannelTrialBannerCtaLastTs",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsGetSharedChannelTrialBannerCtaLastTs"};var p=Object(n.b)(e=>{var t;return(null==e?void 0:null===(t=e.megaphoneNotification)||void 0===t?void 0:t.megaphoneDataFetched)||!1});p.meta={name:"selectIsMegaphoneNotificationDataLoaded",key:"megaphoneNotificationStoreMegaphoneNotificationSelectorsSelectIsMegaphoneNotificationDataLoaded"}},CnUw:function(e,t,r){"use strict";r.d(t,"d",function(){return c}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return u}),r.d(t,"f",function(){return _}),r.d(t,"a",function(){return m});var n=r("8Fba"),a=r("CXkB"),o=r("N4J5"),i=r("AjwY"),s=e=>Object(a.e)(e,n.j.SIDEBAR_FOOTER)===n.n.SIDEBAR_BENEFITS_TAB,c=e=>{var t=Object(a.f)(e),{trialStartDate:r}=Object(a.d)(e,n.j.SIDEBAR_FOOTER);return t===i.h.IN_TRIAL&&0===-Object(o.a)(r)},d=e=>{var{hasSeenBenefitsTab:t}=Object(a.d)(e,n.j.SIDEBAR_FOOTER);return!t&&c(e)},l=e=>{if(!s(e))return!1;if(d(e))return!0;var t=!1;if(Object(a.f)(e)===i.h.IN_TRIAL){var{trialExpirationDate:r}=Object(a.d)(e,n.j.SIDEBAR_FOOTER),c=Object(o.a)(r);1!==c&&2!==c||(t=!0)}return t},u=e=>s(e)&&Object(a.f)(e)===i.h.IN_TRIAL,_=e=>{var t=Object(a.f)(e);return s(e)&&(t===i.h.PAID||t===i.h.FREE_EXPIRED_TRIAL)},m=e=>{var t=Object(a.f)(e),{trialPlanLevel:r}=Object(a.d)(e,n.j.SIDEBAR_FOOTER),o=r===i.f.standard.id;switch(t){case i.h.FREE_NO_TRIAL:return"free_no_trial";case i.h.IN_TRIAL:return o?"standard_trial":"plus_trial";case i.h.FREE_EXPIRED_TRIAL:return o?"standard_downgrade":"plus_downgrade";case i.h.PAID:return o?"standard_upgraded":"plus_upgraded"}}},D6w7:function(e,t,r){"use strict";r.d(t,"c",function(){return m}),r.d(t,"a",function(){return p}),r.d(t,"b",function(){return b}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return v});var n=r("Z0Cl"),a=r("7EGn"),o=r("zmn3"),i=r("pHS2"),s=r("OZf9"),c=r("wd/R"),d=r.n(c),l=r("zgq7"),u=r("HBMi"),_=r("quKg"),m=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&Object.assign({},e.inbox.mentions,{},e.inbox.stars,{},e.inbox.reminders),r=Object(a.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),n=Object(a.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(s.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,r.mentions&&r.mentions.includes(e.id)&&(t[e.id].archived=!0),r.stars&&r.stars.includes(e.id)&&(t[e.id].archived=!0),n.mentions&&n.mentions.includes(e.id)&&(t[e.id].read=!0),n.stars&&n.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,r.reminders&&r.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),n.reminders&&n.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});var c=Object.keys(t).sort().reverse(),l={};Object(s.a)(c,e=>{l[e]=t[e]});var _=Object(i.a)(l,e=>d()(Object(u.a)(e.id)).startOf("day")),m={};return Object.keys(_).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{m[e]=_[e]}),Object(o.a)(m,e=>e)});m.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};var p=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions;return Object(n.a)(t,e=>null===e.subtype)});p.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};var b=Object(l.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});b.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};var f={mentions:[],stars:[],reminders:[]},h=Object(l.b)(e=>{var t=e&&e.inbox&&e.inbox.reads||f,r=e&&e.inbox&&e.inbox.archives||f,n=[...new Set((t.mentions||[]).concat(r.mentions||[]))],a=[...new Set((t.stars||[]).concat(r.stars||[]))],o=[...new Set((t.reminders||[]).concat(r.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!n.includes(e))||Object.keys(e.inbox.stars).some(e=>!a.includes(e))||Object.keys(e.inbox.reminders).some(e=>!o.includes(e))});h.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};var v=Object(l.b)(e=>Object(_.c)(e,"inbox"));v.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},Er5K:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o});var n=["about","space","tasks","board"],a=["app","about","settings"];function o(e){return-1!==n.indexOf(e)||-1!==a.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,r){"use strict";var n=r("RjUC"),a=r("XxnT");t.a=function(e){var t,{parseFormat:r="unix",returnMoment:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(a.a)(),s="unix"!==r;return a.a.isMoment(e)?o?e:Object(a.a)(e).toDate():Object(n.a)(e)?o?Object(a.a)(e.getTime()):e:(s&&"string"==typeof e&&(t=e),s||"string"!=typeof e&&"number"!=typeof e||(t="string"==typeof e?parseFloat(e):e),s&&(i=Object(a.a)(t,r)),s||"number"!=typeof t||(i=t.toString().split(".")[0].length>11?Object(a.a)(t):a.a.unix(t)),o?i:Object(a.a)(i).toDate())}},HuaI:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",function(){return i}),r.d(t,"addWorkspace",function(){return s}),r.d(t,"updateWorkspaceMeta",function(){return c}),r.d(t,"internalSetFocusedWorkspace",function(){return d}),r.d(t,"internalRemoveWorkspace",function(){return l}),r.d(t,"internalWorkspacesRemoved",function(){return u}),r.d(t,"internalRemoveWorkspaceType",function(){return _}),r.d(t,"internalSetFocusedWorkspaceType",function(){return m}),r.d(t,"internalWorkspacesRemovedType",function(){return p}),r.d(t,"setWorkspaceOrder",function(){return b}),r.d(t,"setWorkspaceBooted",function(){return f}),r.d(t,"setDidBootAllWorkspaces",function(){return h}),r.d(t,"setWorkspaceFailedToBoot",function(){return v}),r.d(t,"setWorkspaceIsMigrating",function(){return g}),r.d(t,"setWorkspaceMigrationIsComplete",function(){return O}),r.d(t,"setWorkspaceIsAccessLimited",function(){return S}),r.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return I});var n=r("aK/h"),a=r("A2B7"),o=r("Z7Ay"),i=Object(a.b)("Initializes the store and sets the initial focused workspace ID");i.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},i.propTypes=n.default.object.isRequired;var s=Object(a.b)("Adds a new workspace to the store (but does not boot it)");s.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},s.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var c=Object(a.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:n.default.string.isRequired,meta:n.default.object.isRequired};var d=Object(a.b)("Actually focus a workspace");d.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},d.propTypes=n.default.string.isRequired;var l=Object(a.b)("Removes a workspace from the store");l.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},l.propTypes=n.default.string.isRequired;var u=Object(a.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=n.default.arrayOf(n.default.string).isRequired;var _=l.getType(),m=d.getType(),p=u.getType(),b=Object(a.b)("Sets the order of workspaces for display");b.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},b.propTypes=n.default.arrayOf(n.default.string).isRequired;var f=Object(a.b)("Sets the workspace booted state");f.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},f.propTypes=n.default.string.isRequired;var h=Object(a.b)("Indicates that we have completed (or attempted) boot for all known workspaces");h.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},h.propTypes=null;var v=Object(a.b)("Sets the workspace failed to boot state");v.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},v.propTypes=n.default.string.isRequired;var g=Object(a.b)("Indicates that the given workspace is in the middle of an org migration");g.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},g.propTypes=n.default.string.isRequired;var O=Object(a.b)("Indicates that the given workspace has completed migrating to an org");O.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},O.propTypes=n.default.string.isRequired;var S=Object(a.b)("Indicates that the given workspace has its access limited on this network");S.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},S.propTypes=n.default.string.isRequired;var I=Object(a.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");I.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},I.propTypes=n.default.string,Object(o.a)("workspacesStoreActions",{setWorkspaceOrder:b,setWorkspaceBooted:f})},JnmR:function(e,t,r){"use strict";r.d(t,"r",function(){return n}),r.d(t,"q",function(){return a}),r.d(t,"i",function(){return o}),r.d(t,"h",function(){return i}),r.d(t,"n",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return u}),r.d(t,"s",function(){return _}),r.d(t,"j",function(){return m}),r.d(t,"o",function(){return p}),r.d(t,"g",function(){return b}),r.d(t,"f",function(){return f}),r.d(t,"p",function(){return h}),r.d(t,"w",function(){return v}),r.d(t,"u",function(){return g}),r.d(t,"v",function(){return O}),r.d(t,"k",function(){return S}),r.d(t,"l",function(){return I}),r.d(t,"t",function(){return y}),r.d(t,"b",function(){return j}),r.d(t,"m",function(){return E});var n=180,a=600,o=260,i=1e3,s=284,c=15,d={MANUAL:"manual",AUTO:"auto"},l=500,u=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:260},{minWidth:0,sidebar:200,inspector:260}],_=[{min:n,max:220,className:"p-workspace__sidebar--tiny"},{min:a-50,max:a,className:"p-workspace__sidebar--large"}],m=[{min:o,max:300,className:"p-workspace__secondary_view--tiny"},{min:i-100,max:i,className:"p-workspace__secondary_view--large"}],p=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],b=260,f=400,h=8,v=60,g="sidebarWidthIntent",O="sidebarWidthMode",S="inspectorWidthIntent",I="inspectorWidthMode",y="isSidebarVisible",j="calculatedSidebarWidth",E="LAYOUT"},N4J5:function(e,t,r){"use strict";var n=r("wd/R"),a=r.n(n);t.a=(e=>e&&"0000-00-00"!==e?a()(e).diff(a()().startOf("day"),"days"):null)},NshN:function(e,t,r){"use strict";r.d(t,"b",function(){return d}),r.d(t,"a",function(){return l});var n=r("oTSI"),a=r("9soY"),o=r("Z7Ay"),i=r("btvA"),s=r("lhZz"),c=Object(n.a)(()=>new i.b({fetch:(e,t)=>Object(s.dispatchForTeamId)(e,Object(a.b)({ids:t,reason:"conditional-fetching"})),isEnabled:()=>!0,metricsName:"teams"})),d=(e,t)=>c().maybeRefetch(e,t),l=(e,t)=>c().markObjectsAsFresh(e,t);Object(o.b)("conditionalFetchManagerTeams",c)},Ny3m:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return s});var n=r("aK/h"),a=r("A2B7"),o=Object(a.b)("Rebuild external teams channels store");o.meta={name:"rebuildExternalTeamChannels",key:"externalTeamsChannelsStoreExternalTeamsChannelsActionsRebuildExternalTeamChannels",description:"Rebuild external teams channels store"},o.propTypes={teams:n.default.array};var i=Object(a.b)("Remove team channel data from store");i.meta={name:"removeExternalTeamChannels",key:"externalTeamsChannelsStoreExternalTeamsChannelsActionsRemoveExternalTeamChannels",description:"Remove team channel data from store"},i.propTypes={teamId:n.default.string};var s=Object(a.b)("Remove channel from a given team");s.meta={name:"removeChannelFromExternalTeam",key:"externalTeamsChannelsStoreExternalTeamsChannelsActionsRemoveChannelFromExternalTeam",description:"Remove channel from a given team"},s.propTypes={teamId:n.default.string,channel:n.default.object}},POHe:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=new Map},"Qe/g":function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return c});var n,a=r("quKg"),o=r("Smdl"),i=r("cewN");function s(e){return"treatment"===Object(a.c)(e,"mwc")&&Object(o.a)()}function c(){if(!Object(o.a)())return!1;if(void 0===n){var e=Object(i.d)(location.search);n=!!e.channel_popout}return n}},Qtvm:function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"a",function(){return c});var n=r("aK/h"),a=r("A2B7"),o=r("MNvw"),i=r("zgq7"),s=Object(a.b)("Persists a request payload by key");s.meta={name:"persistApiCallPayload",key:"persistedApiCallsStorePersistApiCallPayload",description:"Persists a request payload by key"},s.propTypes={persistKey:n.default.string,payload:n.default.object};var c=Object(a.b)("Clears the persisted apiCall payload at the key");c.meta={name:"clearApiCallPayload",key:"persistedApiCallsStoreClearApiCallPayload",description:"Clears the persisted apiCall payload at the key"},c.propTypes={persistKey:n.default.string};var d=Object(o.b)({[s]:function(e){var{persistKey:t,payload:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},e,{[t]:Object.assign({},r,{persistKey:t})})},[c]:(e,t)=>{var r=Object.assign({},e);return delete r[t],r}},{},{storeKey:"persistedApiCalls",persistenceEnabled:!0,persistImmediately:!0});d.meta={name:"persistedApiCalls",key:"persistedApiCallsStorePersistedApiCalls"},d.propTypes=n.default.object,t.b=d,Object(i.b)(e=>e&&e.persistedApiCalls).meta={name:"getPersistedApiCalls",key:"persistedApiCallsStoreGetPersistedApiCalls"}},"RrZ/":function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});var n=r("7EGn"),a=r("zgq7"),o=Object(a.b)((e,t)=>Object(n.a)(e,"externalTeamsChannels."+t+".channels",[]));o.meta={name:"getChannelsByTeamId",key:"externalTeamsChannelsStoreExternalTeamsChannelsSelectorsGetChannelsByTeamId"};var i=Object(a.b)((e,t)=>Object(n.a)(e,"externalTeamsChannels."+t+".counts",{}));i.meta={name:"getChannelCountsByTeamId",key:"externalTeamsChannelsStoreExternalTeamsChannelsSelectorsGetChannelCountsByTeamId"}},ShzP:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"d",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c});var n=r("aK/h"),a=r("A2B7"),o=Object(a.b)("Rebuild approved external teams store");o.meta={name:"rebuildApprovedExternalTeams",key:"approvedExternalTeamsStoreApprovedExternalTeamsActionsRebuildApprovedExternalTeams",description:"Rebuild approved external teams store"},o.propTypes={teams:n.default.array};var i=Object(a.b)("Update approved external teams store");i.meta={name:"updateApprovedExternalTeams",key:"approvedExternalTeamsStoreApprovedExternalTeamsActionsUpdateApprovedExternalTeams",description:"Update approved external teams store"},i.propTypes={teams:n.default.array};var s=Object(a.b)("Add approved external team to store");s.meta={name:"addApprovedExternalTeam",key:"approvedExternalTeamsStoreApprovedExternalTeamsActionsAddApprovedExternalTeam",description:"Add approved external team to store"},s.propTypes={teamId:n.default.string};var c=Object(a.b)("Remove approved external team from store");c.meta={name:"removeApprovedExternalTeam",key:"approvedExternalTeamsStoreApprovedExternalTeamsActionsRemoveApprovedExternalTeam",description:"Remove approved external team from store"},c.propTypes={teamId:n.default.string}},UioL:function(e,t,r){"use strict";var n=r("fujP"),a=r("Dn8e"),o=r("4Z3G"),i=r("kymL"),s=r("JtEI"),c=r("Z0v/"),d=r("Gogr"),l=r("eK5+"),u=r("Pw4T"),_=r("5MVR"),m=r("9svP"),p=r("s4P+"),b=r("cewN"),f=Object(l.a)(10),h=c.h+"_get_stored_state_from_idb_mark_"+c.i,v=c.h+"_get_stored_state_from_idb_success_"+c.i,g=c.h+"_get_stored_state_from_idb_failure_"+c.i,O=window.location.href.split("?",2)[1],S=Object(b.d)(O),I=Object(l.a)(1)||S.force_store_measurement,y=["channels","emoji","files","members","messages"],j=!1;t.a=function(){var{teamId:e,userId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(p.a)({teamId:e}),l=Object(u.a)();f&&l.mark(h),r.info(c.D,"Getting state from IndexedDB");var b=Object(d.e)(e,"enterprise_id");return o.a.map([e,b],e=>{if(!e)return o.a.resolve({});var r="persist:"+Object(c.F)({appName:Object(s.f)(),teamId:e,userId:t});return i.a.get(r)},{concurrency:2}).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||Object(n.a)(e))return f&&l.clearMarks(h),r.info(c.D,"No state found in IndexedDB"),!1;var o=Object.assign({},e,{},t);return f&&(l.measureAndClear(h),l.count(v)),r.info(c.D,"Successfully got state from IndexedDB"),I&&!j&&(j=!0,y.forEach((e,t)=>{var n=10*(t+1)*1e3,i=Object(m.a)(n,-.25,.25);Object(a.a)(()=>{var t=Object(_.a)(o[e]);null!==t&&(l.store("redux_size_of_store_"+e+"_bytes",t),r.info(c.D,"[STORE-SIZES]","state."+e+" is approximately "+t+" bytes"))},i)})),o}).catch(e=>(f&&(l.clearMarks(h),l.count(g)),r.error(c.D,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},UjNr:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r("zLVn"),a=r("fp5s"),o=r("ifKl"),i=r("4Z3G"),s=r("2XU3"),c=r("aK/h"),d=r("6jsb"),l=r("Qtvm"),u=r("dxEi"),_=r("gIpc"),m=["stars.add","stars.remove","reactions.add","reactions.remove","chat.deleteAttachment","conversations.mark","conversations.leave","users.prefs.set","users.prefs.setNotifications","subscriptions.thread.add","subscriptions.thread.remove","unread.markRead","users.profile.set"];var p=Object(d.b)("Dispatch an API call that can be persisted",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{persistKey:c}=r,d=Object(n.a)(r,["persistKey"]),{method:p}=d;if(!function(e){return m.includes(e)}(p))throw new Error("This method is not in the `offline-persist-methods` manifest and cannot be persisted. Make sure the calling code is not relying on a response before adding it to the manifest.");if(Object(u.c)(t()))return e(Object(s.a)(d));var b=c||Object(a.a)(Date.now()+"-"+p+"-");return e(Object(l.c)({persistKey:b,payload:d})),e(Object(_.a)()).then(()=>e(Object(s.a)(d))).catch(o.a).finally(()=>e(Object(l.a)(b))),i.a.resolve()});p.meta={name:"apiCallPersisted",key:"infraApiApiCallPersistedApiCallPersisted",description:"Dispatch an API call that can be persisted"},p.propTypes={method:c.default.string,args:c.default.object,defaultArgs:c.default.object,reason:c.default.string,EXPEDITED:c.default.bool,SET_ACTIVE:c.default.bool,persistKey:c.default.string}},V2no:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("aK/h"),a=r("A2B7"),o=r("MNvw"),i=Object(a.b)("Add an external team id to the store");i.meta={name:"addExternalTeamId",key:"externalTeamIdsStoreExternalTeamIdsReducerAddExternalTeamId",description:"Add an external team id to the store"},i.propTypes=n.default.shape({id:n.default.string}).isRequired;var s=Object(o.b)({[i]:(e,t)=>{if(!t)return e;var{id:r}=t;return!r||e[r]?e:Object.assign({},e,{[r]:!0})}},{},{storeKey:"externalTeamIds",persistenceEnabled:!0});s.meta={name:"externalTeamIds",key:"externalTeamIdsStoreExternalTeamIdsReducerExternalTeamIds"},s.propTypes=n.default.shape({id:n.default.string}),t.b=s},V6fv:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=/^p?(\d{10})\.?(\d{6})$/;function a(e){return e&&n.test(e)?e.replace(n,"$1.$2"):null}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?a(String((+e/1e3).toFixed(6))):null}},VMwU:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"m",function(){return i}),r.d(t,"i",function(){return s}),r.d(t,"h",function(){return c}),r.d(t,"f",function(){return d}),r.d(t,"d",function(){return l}),r.d(t,"j",function(){return u}),r.d(t,"k",function(){return _}),r.d(t,"e",function(){return m}),r.d(t,"n",function(){return p}),r.d(t,"l",function(){return h}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return O});var n=r("rWF5"),a={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553"},o=e=>{if(!e)return null;var t="#"===e[0]?e.substring(1):e,r=parseInt(t,16),n=[r>>16&255,r>>8&255,r>>0&255];return t.length>6?[r>>24&255,...n]:n},i=e=>{return"#"+e.map(e=>{var t=e.toString(16);return 1===t.length?"0"+t:t}).join("").toUpperCase()},s=e=>{var[t,r,n,a]=e;if(0===r)return("number"==typeof a?[n,n,n,a]:[n,n,n]).map(e=>Math.round(255*e));var o,i=Math.floor(t/60),s=t/60-i,c=n*(1-r),d=n*(1-r*s),l=n*(1-r*(1-s));switch(i){case 0:o=[n,l,c];break;case 1:o=[d,n,c];break;case 2:o=[c,n,l];break;case 3:o=[c,d,n];break;case 4:o=[l,c,n];break;case 5:o=[n,c,d];break;default:throw new Error("hsvToRGB: impossible default reached")}return(o="number"==typeof a?[...o,a]:o).map(e=>Math.round(255*e))},c=e=>{var t=s(e);return i(t)},d=e=>{return(e=>{var t,[r,n,a,o]=e.map(e=>e/255),i=Math.max(r,n,a),s=i-Math.min(r,n,a),c=i,d=0===c?0:s/c;if(0===s)t=0;else switch(i){case r:t=(n-a)/s%6;break;case n:t=(a-r)/s+2;break;case a:t=(r-n)/s+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}(t*=60)<0&&(t+=360);var l=[t,d,c];return"number"==typeof o?[...l,o]:l})(o(e))},l=function(e,t){var{outputHex:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(e).map(e=>Math.min(Math.max(e-t,0),255));return r?i(n):"rgb("+n.join(",")+")"},u=function(e,t){var{outputHex:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o(e).map(e=>Math.max(Math.min(e+t,255),0));return r?i(n):"rgb("+n.join(",")+")"},_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=o(e),a=o(t);return"rgb("+n.map((e,t)=>Math.round(e*r+a[t]*(1-r))).join(",")+")"},m=function(e){var t,{featureClassicNav:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r?Object(n.E)()?.65:.75:Object(n.E)()?.6:.7,_(e.text_color,e.column_bg,t)},p=(e,t)=>{return e&&null!=t?"rgba("+o(e).slice(0,3).join(",")+","+t+")":null},b=/[A-F0-9]{6}/,f=/[A-F0-9]{8}/,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=e.trim().toUpperCase();return"#"===r[0]&&(r=r.slice(1)),(3===r.length||4===r.length&&t)&&(r=r.split("").map(e=>""+e+e).join("")),t&&6===r.length&&(r+="FF"),(t?f:b).exec(r)&&r},v=(e,t)=>"0 0 0 1px "+e+", 0 0 0 5px "+t,g=e=>{if(!e)return 0;var t=e=>{var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},[r,n,a]=o(e);return.2126*t(r)+.7152*t(n)+.0722*t(a)},O=(e,t)=>{var r=g(e),n=g(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}},Vp6b:function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return h});var n=r("zLVn"),a=r("zmn3"),o=r("fujP"),i=r("xWuZ"),s=r("bPB8"),c=r("ZBlo"),d=r("4Z3G"),l=r("aK/h"),u=r("2XU3"),_=r("QOs+"),m=r("s4P+"),p={type:"is",value:"team"},b={query:JSON.stringify(p),count:20};var f=Object(_.a)("Fetch all teams user is allowed to see",function(e,t){var{ids:r,reason:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(o.a)(r))return d.a.resolve([]);var l=Object(c.a)(r,250);return d.a.map(l,t=>e(Object(u.b)({method:"team.info",args:{teams:t},reason:n}))).then(e=>{var t=Object(i.a)(Object(a.a)(e,"teams"));return Object(s.a)(t)})});f.meta={name:"fetchTeamsById",key:"fetchersTeamsApiFetchTeamsById",description:"Fetch all teams user is allowed to see"},f.propTypes={ids:l.default.arrayOf(l.default.string).isRequired,reason:l.default.string.isRequired};var h=Object(_.a)("Fetches teams by query from the API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{query:a="",ids:o,marker:i,count:s=b.count}=r,c=Object(n.a)(r,["query","ids","marker","count"]),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query:t,ids:r,marker:a}=e,o=Object(n.a)(e,["query","ids","marker"]);if(!o)return b;var i=Object.assign({},o);if(a&&(i.cursor_mark=a),t||r){var s=[p];t&&s.push({type:"fuzzy",value:t}),r&&r.length&&s.push({type:"or",clauses:[...r.map(e=>({type:"id",value:e}))]}),i.query=JSON.stringify({type:"and",clauses:s})}return i.cursor_mark||delete i.cursor_mark,Object.assign({},b,{},i)}(Object.assign({query:a,ids:o,marker:i,count:s},c));return e(Object(u.a)({method:"search.enterprise",args:d,reason:"fetch-teams-with-query"})).catch(e=>{throw Object(m.a)({getState:t}).error("TEAMS","failed to fetch teams with query",e),e})});h.meta={name:"fetchTeamsWithQuery",key:"fetchersTeamsApiFetchTeamsWithQuery",description:"Fetches teams by query from the API"},h.propTypes={query:l.default.string,count:l.default.number};var v=Object(_.a)("Get teams paid level and addons",function(e,t){var{reason:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(Object(u.a)({reason:r,method:"team.paidfeatures.get"})).catch(e=>{throw Object(m.a)({getState:t}).error("paidfeatures","failed to get paid features"),e})});v.meta={name:"getPaidFeatures",key:"fetchersTeamsApiGetPaidFeatures",description:"Get teams paid level and addons"},v.propTypes={reason:l.default.string.isRequired}},"W+QA":function(e,t,r){"use strict";r.d(t,"c",function(){return _}),r.d(t,"e",function(){return h}),r.d(t,"d",function(){return v}),r.d(t,"b",function(){return g}),r.d(t,"a",function(){return O});var n=r("Bw5p"),a=r("jeQL"),o=r("gSGL"),i=r("c8Bs"),s=r("VMwU"),c=/^#?([0-9a-f]{6})$/i,d={default_theme:s.a,aubergine_classic_theme:{column_bg:"#4D394B",menu_bg:"#3E313C",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#3E313C",text_color:"#FFFFFF",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#F8F8FA",menu_bg:"#F8F8FA",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#FFFFFF",text_color:"#383F45",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#0D7E83",menu_bg:"#076570",active_item:"#F79F66",active_item_text:"#FFFFFF",hover_item:"#D37C71",text_color:"#FFFFFF",active_presence:"#F79F66",badge:"#F15340"},chocolate_theme:{column_bg:"#544538",menu_bg:"#42362B",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#4A3C30",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#303E4D",menu_bg:"#2C3849",active_item:"#6698C8",active_item_text:"#FFFFFF",hover_item:"#4A5664",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#4D5250",menu_bg:"#444A47",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#434745",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},nocturne_theme:{column_bg:"#1A1D21",menu_bg:"#000000",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#000000",text_color:"#FFFFFF",active_presence:"#39E500",badge:"#CC4400"},solanum_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#D0FF00",badge:"#889100"},brinjal_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#00FFB7",badge:"#DE4C0D"},cotton_theme:{column_bg:"#BB6A76",menu_bg:"#AD5B67",active_item:"#62B791",active_item_text:"#FFFFFF",hover_item:"#A5516A",text_color:"#FFFFFF",active_presence:"#68F798",badge:"#694464"},eco_theme:{column_bg:"#86A34E",menu_bg:"#94AF63",active_item:"#FFFFFF",active_item_text:"#6D8B42",hover_item:"#94AF63",text_color:"#FFFFFF",active_presence:"#FFB10A",badge:"#DFA044"},banana_theme:{column_bg:"#FFEB84",menu_bg:"#FFF8D4",active_item:"#FFC806",active_item_text:"#591035",hover_item:"#FFF8D4",text_color:"#591035",active_presence:"#4C6DC2",badge:"#DD4147",top_nav_bg:"#FFC806",top_nav_text:"#591035"},sweet_treat_theme:{column_bg:"#FFEEED",menu_bg:"#FFC2C0",active_item:"#FFC2C0",active_item_text:"#4A154B",hover_item:"#FFFFFF",text_color:"#4A154B",active_presence:"#FFA95A",badge:"#37BD8D",top_nav_bg:"#FFC2C0",top_nav_text:"#4A154B"},mood_indigo_theme:{column_bg:"#F8F8FA",menu_bg:"#E0E7FF",active_item:"#001A5E",active_item_text:"#F8F8FA",hover_item:"#E0E7FF",text_color:"#001A5E",active_presence:"#2153FF",badge:"#2153FF",top_nav_bg:"#001A5E",top_nav_text:"#FFFFFF"},eggplant_theme:{column_bg:"#FBFAF7",menu_bg:"#DCEEE4",active_item:"#4A154B",active_item_text:"#FBFAF7",hover_item:"#DCEEE4",text_color:"#4A154B",active_presence:"#2BAC76",badge:"#BD3855",top_nav_bg:"#4A154B",top_nav_text:"#FFFFFF"},cmyk_theme:{column_bg:"#F2F4F7",menu_bg:"#FFE600",active_item:"#35C2FF",active_item_text:"#FFFFFF",hover_item:"#FFE600",text_color:"#151834",active_presence:"#35C2FF",badge:"#E71FA3",top_nav_bg:"#E71FA3",top_nav_text:"#FFFFFF"},mondrian_theme:{column_bg:"#FFFFFF",menu_bg:"#FFC806",active_item:"#000000",active_item_text:"#FFFFFF",hover_item:"#FFC806",text_color:"#000000",active_presence:"#000000",badge:"#FD0B00",top_nav_bg:"#1F57E7",top_nav_text:"#FFFFFF"},terminal_theme:{column_bg:"#1A1D21",menu_bg:"#1A2B23",active_item:"#4EE077",active_item_text:"#1A1D21",hover_item:"#1A2B23",text_color:"#4EE077",active_presence:"#4EE077",badge:"#1C913D",top_nav_bg:"#1A2B23",top_nav_text:"#4EE077"},expensive_theme:{column_bg:"#1A1D21",menu_bg:"#232527",active_item:"#3E4232",active_item_text:"#C9C49C",hover_item:"#232527",text_color:"#C9C49C",active_presence:"#C9C49C",badge:"#3E4233",top_nav_bg:"#C9C49C",top_nav_text:"#1A1D21"},ultraviolet_theme:{column_bg:"#F5F5F5",menu_bg:"#F0F0F0",active_item:"#6715EB",active_item_text:"#FFFFFF",hover_item:"#E8E8E8",text_color:"#1A1A1A",active_presence:"#6715EB",badge:"#CD2553",top_nav_bg:"#6715EB",top_nav_text:"#FFFFFF"},discotheque_theme:{column_bg:"#6A1B1B",menu_bg:"#6A1B1B",active_item:"#D94422",active_item_text:"#FDF6E3",hover_item:"#461412",text_color:"#FFD476",active_presence:"#D67739",badge:"#D94422",top_nav_bg:"#461412",top_nav_text:"#FDF6E3"},haberdashery_theme:{column_bg:"#073642",menu_bg:"#002B36",active_item:"#7D6005",active_item_text:"#FDF6E3",hover_item:"#002B36",text_color:"#FDF6E3",active_presence:"#55D44E",badge:"#DC322F",top_nav_bg:"#002B36",top_nav_text:"#FDF6E3"}},l={default_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#2BAC76",badge:"#CD2553"},aubergine_classic_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#38978D",badge:"#EB4D5C"},hoth_theme:{column_bg:"#333333",menu_bg:"#3F3F3F",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#3F3F3F",text_color:"#F8F8FA",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#173438",menu_bg:"#152A2D",active_item:"#EBA270",active_item_text:"#FFFFFF",hover_item:"#C78074",text_color:"#FFFFFF",active_presence:"#EBA270",badge:"#F15340"},chocolate_theme:{column_bg:"#212121",menu_bg:"#353330",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#353330",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#1D2229",menu_bg:"#0B161E",active_item:"#537AA6",active_item_text:"#FFFFFF",hover_item:"#313843",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#222629",menu_bg:"#121518",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#2C3136",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},nocturne_theme:{column_bg:"#1A1D21",menu_bg:"#000000",active_item:"#0576B9",active_item_text:"#FFFFFF",hover_item:"#000000",text_color:"#FFFFFF",active_presence:"#39E500",badge:"#CC4400"},solanum_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#5B415B",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#DAFC51",badge:"#8A902C"},brinjal_theme:{column_bg:"#19171D",menu_bg:"#121016",active_item:"#5B415B",active_item_text:"#FFFFFF",hover_item:"#27242C",text_color:"#D1D2D3",active_presence:"#74FABC",badge:"#CE5628"},banana_theme:{column_bg:"#1A1D21",menu_bg:"#483F1C",active_item:"#FFC806",active_item_text:"#1A1D21",hover_item:"#483F1C",text_color:"#FFF8D4",active_presence:"#3C67D6",badge:"#DD4147",top_nav_bg:"#1A1D21",top_nav_text:"#FFC806"},sweet_treat_theme:{column_bg:"#1A1D21",menu_bg:"#3B3232",active_item:"#FFC2C0",active_item_text:"#1A1D21",hover_item:"#3B3232",text_color:"#FFE9E8",active_presence:"#FFA95A",badge:"#37BD8D",top_nav_bg:"#1A1D21",top_nav_text:"#FFC2C0"},mood_indigo_theme:{column_bg:"#1A1D21",menu_bg:"#2D3136",active_item:"#1F2A42",active_item_text:"#D8DCE8",hover_item:"#2D3136",text_color:"#D8DCE8",active_presence:"#2153FF",badge:"#2153FF",top_nav_bg:"#1F2A42",top_nav_text:"#FFFFFF"},eggplant_theme:{column_bg:"#1A1D21",menu_bg:"#121016",active_item:"#3A2D3B",active_item_text:"#FBFAF7",hover_item:"#27242C",text_color:"#FBFAF7",active_presence:"#2EB67D",badge:"#BD3855",top_nav_bg:"#4A154B",top_nav_text:"#FBFAF7"},cmyk_theme:{column_bg:"#20252C",menu_bg:"#0E0B01",active_item:"#6BC9FF",active_item_text:"#0E0B01",hover_item:"#0E0B01",text_color:"#FCEBF9",active_presence:"#FCE54D",badge:"#CD2553",top_nav_bg:"#D53C9F",top_nav_text:"#0E0B01"},mondrian_theme:{column_bg:"#1A1D21",menu_bg:"#121212",active_item:"#FFC806",active_item_text:"#000000",hover_item:"#121212",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#FD0B00",top_nav_bg:"#1F57E7",top_nav_text:"#FFFFFF"},terminal_theme:{column_bg:"#1A1D21",menu_bg:"#1A2B23",active_item:"#4EE077",active_item_text:"#1A1D21",hover_item:"#1A2B23",text_color:"#4EE077",active_presence:"#4EE077",badge:"#1C913D",top_nav_bg:"#1A2B23",top_nav_text:"#4EE077"},expensive_theme:{column_bg:"#1A1D21",menu_bg:"#232527",active_item:"#3E4232",active_item_text:"#C9C49C",hover_item:"#232527",text_color:"#C9C49C",active_presence:"#C9C49C",badge:"#3E4233",top_nav_bg:"#C9C49C",top_nav_text:"#1A1D21"},ultraviolet_theme:{column_bg:"#14101A",menu_bg:"#241D2E",active_item:"#6715EB",active_item_text:"#FFFFFF",hover_item:"#241D2E",text_color:"#FFFFFF",active_presence:"#6715EB",badge:"#CD2553",top_nav_bg:"#6715EB",top_nav_text:"#FFFFFF"},discotheque_theme:{column_bg:"#1A1D21",menu_bg:"#1A0404",active_item:"#6A1B1B",active_item_text:"#FFD476",hover_item:"#461412",text_color:"#D2A454",active_presence:"#D67739",badge:"#6A1B1B",top_nav_bg:"#461412",top_nav_text:"#FFD476"},haberdashery_theme:{column_bg:"#011F26",menu_bg:"#01151A",active_item:"#4F400E",active_item_text:"#F7E7BC",hover_item:"#01151A",text_color:"#EBEDDF",active_presence:"#55D44E",badge:"#A30F0F",top_nav_bg:"#01151A",top_nav_text:"#EBEDDF"}},u=["nav_bar_bg","nav_bar_text"],_=(e,t)=>{var r=Object(a.a)(e,(e,t)=>u.includes(t));return[r.column_bg,r.menu_bg,r.active_item,r.active_item_text,r.hover_item,r.text_color,r.active_presence,r.badge,t.top_nav_bg,t.top_nav_text].join(",")},m=/^#?[0-9a-f]{3,8}$/i,p=/^rgba?\([0-9,.\s]+\)$/i,b=/^hsla?\([0-9,.\s]+\)$/i,f={top_nav_bg:s.a.menu_bg,top_nav_text:s.a.text_color},h=e=>{if(!e)return f;var t=Object.keys(f);return t.every(t=>{return!!(e[t]&&e[t].trim&&e[t].trim())&&(e[t].match(m)||e[t].match(p)||e[t].match(b))})?Object(n.a)(e,t):f},v=function(e,t){var{clientTheme:r="light"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(e=>{return e&&Object.keys(s.a).every(t=>!!(e[t]&&e[t].trim&&e[t].trim())&&(e[t].match(m)||e[t].match(p)||e[t].match(b)))?e:s.a})(function(e,t){var{clientTheme:r="light"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"custom_theme"===e||"workspace_default"===e||"org_default"===e?t:"default"===e||"default_theme"===e?"dark"===r?l.default_theme:d.default_theme:!e&&t?t:"dark"===r&&l[e]?l[e]:d[e]||t||d.default_theme}(e,t,{clientTheme:r}))},g=e=>(e=>{return!(!e||8!==e.length)&&Object(i.a)(e,e=>!!e&&!!Object(o.a)(e)&&e.match(c))})(e)?{column_bg:e[0],menu_bg:e[1],active_item:e[2],active_item_text:e[3],hover_item:e[4],text_color:e[5],active_presence:e[6],badge:e[7]}:null,O=e=>10!==e.length?null:Object(i.a)(e,e=>Object(o.a)(e)&&e.match(c))?{top_nav_bg:e[8],top_nav_text:e[9]}:null},XL7r:function(e,t,r){"use strict";r.d(t,"m",function(){return u}),r.d(t,"a",function(){return _}),r.d(t,"n",function(){return m}),r.d(t,"c",function(){return p}),r.d(t,"k",function(){return b}),r.d(t,"d",function(){return f}),r.d(t,"g",function(){return h}),r.d(t,"l",function(){return v}),r.d(t,"e",function(){return g}),r.d(t,"f",function(){return O}),r.d(t,"h",function(){return S}),r.d(t,"j",function(){return I}),r.d(t,"b",function(){return y}),r.d(t,"i",function(){return j});var n=r("bPB8"),a=r("zgq7"),o=r("wNji"),i=r("s4P+"),s=r("x4bP"),c=r("brL+"),d=r("/6H7"),l=r("h9PG"),u=Object(a.b)((e,t)=>{if(!Object(s.a)()||"locale"!==t)return e&&e.prefs&&e.prefs.user&&e.prefs.user[t];var r=Object(i.a)({teamId:Object(c.b)(e)});"locale"===t?r.warn("Attempted to fetch user 'locale' pref. Use `getLocale` from `@slack/infra/i18n` to get the user's current locale!"):r.error("Attempted to fetch undefined user pref "+t+".")});u.meta={name:"getUserPref",key:"prefsStoreUserSelectorsGetUserPref"};var _=Object(a.b)(e=>e&&e.prefs&&e.prefs.user&&e.prefs.user.locale);_.meta={name:"dangerouslyGetUserLocalePref",key:"prefsStoreUserSelectorsDangerouslyGetUserLocalePref"};var m=Object(a.b)(e=>{var t=u(e,"display_real_names_override");return 1===t||-1!==t&&!!Object(l.a)(e,"display_real_names")});m.meta={name:"shouldDisplayRealNames",key:"prefsStoreUserSelectorsShouldDisplayRealNames"};var p=Object(a.b)(e=>{var t=u(e,"enterprise_excluded_app_teams")||"";return Object(n.a)((t||"").toString().split(","))});p.meta={name:"getAppExcludedEnterpriseTeamIds",key:"prefsStoreUserSelectorsGetAppExcludedEnterpriseTeamIds"};var b=Object(a.b)(e=>{return u(e,"newxp_suggested_channels")||""});b.meta={name:"getSuggestedChannelsPref",key:"prefsStoreUserSelectorsGetSuggestedChannelsPref"};var f=Object(a.b)(e=>{return u(e,"calls_survey_last_seen")});f.meta={name:"getCallsLastSeenSurveyTimestamp",key:"prefsStoreUserSelectorsGetCallsLastSeenSurveyTimestamp"};var h=Object(a.b)(e=>u(e,"mx_calendar_type"));h.meta={name:"getMXCalendarType",key:"prefsStoreUserSelectorsGetMXCalendarType"};var v=Object(o.a)(e=>u(e,Object(d.a)(e)),e=>e?Object(n.a)(e.split(",")):[]),g=Object(o.a)(e=>u(e,"sidebar_theme_custom_values"),e=>{try{return JSON.parse(e)}catch(t){return}}),O=Object(o.a)(e=>u(e,"dismissed_installed_app_dm_suggestions"),e=>e&&""!==e?e.split(",").reduce((e,t)=>(e[t]=!0,e),{}):{}),S=Object(a.b)(e=>{return u(e,"seen_people_search_count")<3});S.meta={name:"getShowPeopleSearchInProductEducation",key:"prefsStoreUserSelectorsGetShowPeopleSearchInProductEducation"};var I=Object(a.b)(e=>{return u(e,"dismissed_scroll_search_tooltip_count")<3});I.meta={name:"getShowScrollerSearchInProductEducation",key:"prefsStoreUserSelectorsGetShowScrollerSearchInProductEducation"};var y=Object(a.b)(e=>{var t=u(e,"last_dismissed_scroll_search_tooltip_timestamp");return Date.now()-t>864e5});y.meta={name:"get24HoursShowScrollerSearchInProductEducation",key:"prefsStoreUserSelectorsGet24HoursShowScrollerSearchInProductEducation"};var j=Object(a.b)(e=>{var t=u(e,"seen_quickswitcher_shortcut_tip_count"),r=u(e,"k_key_omnibox"),n=u(e,"has_used_quickswitcher_shortcut");return r&&!n&&t<5});j.meta={name:"getShowQuickswitcherTip",key:"prefsStoreUserSelectorsGetShowQuickswitcherTip"}},"Yd+W":function(e,t,r){"use strict";var n,a,o,i,s,c,d;r.d(t,"e",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return d}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(n||(n={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management",e.AddProfilePhoto="add_profile_photo",e.InviteUsers="invite_users",e.WelcomeMessage="welcome_message",e.AccountSetup="account_setup"}(a||(a={})),function(e){e.Creator="creator_onboarding",e.Joiner="joiner_onboarding"}(o||(o={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(i||(i={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(s||(s={})),function(e){e.CHANNEL="channel",e.BROWSE="browse"}(c||(c={})),function(e){e.Creator="creator",e.Joiner="joiner"}(d||(d={}))},YjHT:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"e",function(){return u}),r.d(t,"j",function(){return _}),r.d(t,"i",function(){return m}),r.d(t,"k",function(){return p}),r.d(t,"f",function(){return h}),r.d(t,"g",function(){return v}),r.d(t,"h",function(){return g});var n=r("aK/h"),a=r("A2B7"),o=r("MNvw"),i=r("zgq7"),s=r("V6fv"),c="error",d="has_more",l="timestamp_too_old",u=Object(a.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");u.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},u.propTypes={reason:n.default.oneOf([c,d,l])};var _=Object(a.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");_.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},_.propTypes=n.default.string;var m=Object(a.b)("Set a value that represents whether we are currently in the boot phase");m.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},m.propTypes=n.default.bool;var p=Object(a.b)("Set a value that represents whether we are currently performing a warm boot");p.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},p.propTypes=n.default.bool;var b={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},f=Object(o.b)({[u]:e=>Object.assign({},e,{eventlogGapCount:e.eventlogGapCount+1}),[_]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(s.b)();return t?Object.assign({},e,{lastKnownEventTimestamp:t}):e},[m]:(e,t)=>Object.assign({},e,{bootInFlight:t}),[p]:(e,t)=>Object.assign({},e,{warmBootInFlight:t})},b,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>Object.assign({},e,{bootInFlight:b.bootInFlight,warmBootInFlight:b.warmBootInFlight})});f.meta={name:"consistency",key:"consistencyStoreConsistency"},f.propTypes={eventlogGapCount:n.default.number,lastKnownEventTimestamp:n.default.string,bootInFlight:n.default.bool,warmBootInFlight:n.default.bool},t.d=f,Object(i.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};var h=Object(i.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);h.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};var v=Object(i.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);v.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};var g=Object(i.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);g.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},ayyL:function(e,t,r){"use strict";r.d(t,"A",function(){return c}),r.d(t,"x",function(){return d}),r.d(t,"l",function(){return l}),r.d(t,"y",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"e",function(){return p}),r.d(t,"g",function(){return b}),r.d(t,"h",function(){return f}),r.d(t,"i",function(){return h}),r.d(t,"m",function(){return v}),r.d(t,"n",function(){return g}),r.d(t,"j",function(){return O}),r.d(t,"k",function(){return S}),r.d(t,"z",function(){return I}),r.d(t,"v",function(){return y}),r.d(t,"B",function(){return j}),r.d(t,"u",function(){return E}),r.d(t,"s",function(){return T}),r.d(t,"t",function(){return A}),r.d(t,"q",function(){return F}),r.d(t,"p",function(){return k}),r.d(t,"w",function(){return D}),r.d(t,"o",function(){return C}),r.d(t,"a",function(){return R}),r.d(t,"f",function(){return P}),r.d(t,"d",function(){return N}),r.d(t,"c",function(){return x}),r.d(t,"r",function(){return B});var n=r("zgq7"),a=r("oKz6"),o=r("Smdl"),i=r("1zgd"),s=r("Yd+W"),c=e=>!(!e||"workflow"!==e.type),d=Object(n.b)(e=>{var t=Object(a.b)(e,"welcomePlaceState");return t&&"none"!==t});d.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};var l=Object(n.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);l.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};var u=Object(n.b)(e=>"enabled"===Object(a.b)(e,"welcomePlaceState")&&(!Object(o.a)()||l(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"};var _=Object(n.b)((e,t)=>{var{channelId:r,messageTimestamp:n}=t;return e.welcomePlace.channelMessages[r][n]});_.meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};var m=Object(n.b)(e=>e.welcomePlace.userDetails);m.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};var p=Object(n.b)(e=>m(e).app_file_management);p.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};var b=Object(n.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);b.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};var f=Object(n.b)(e=>e.welcomePlace.lastRequestTimestamp);f.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};var h=Object(n.b)(e=>e.welcomePlace.lastUsedLocale);h.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};var v=Object(n.b)(e=>e.welcomePlace.pageEntryPoint);v.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};var g=Object(n.b)(e=>e.welcomePlace.pageViewingSessionId);g.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};var O=Object(n.b)(e=>e.welcomePlace.onboardingChannelId);O.meta={name:"getOnboardingChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingChannelId"};var S=Object(n.b)(e=>{var t,r,n=l(e).find(e=>"workflow"===e.type);if(!c(n))return null;var a=null==n?void 0:null===(t=n.content)||void 0===t?void 0:null===(r=t.workflow)||void 0===r?void 0:r.type;return"creator_onboarding"===a?s.g.Creator:"joiner_onboarding"===a?s.g.Joiner:null});S.meta={name:"getOnboardingWorkflowType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetOnboardingWorkflowType"};var I=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type);if(!c(t))return!1;var r=1e3*t.content.workflow.date_start;return Date.now()-r<6048e5});I.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};var y=Object(n.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);y.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};var j=Object(n.b)(()=>{if(!Object(o.a)())throw new Error("this selector can not be used from Legacy");return!1});j.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};var E=Object(n.b)((e,t)=>{var r=l(e).find(e=>"workflow"===e.type);return c(r)?r.content.workflow.tasks.find(e=>e.subtype===t):null});E.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};var T=Object(n.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);T.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(n.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"},Object(n.b)(e=>e.welcomePlace.experiment).meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"},Object(n.b)(e=>e.welcomePlace.treatment).meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};var A=Object(n.b)(e=>{var t=l(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};var r=t.content.workflow.tasks.filter(i.a),n=r.filter(e=>"completed"===e.state).length,a=r.find(e=>"completed"!==e.state);return{total:r.length,completed:n,nextTaskType:a&&a.subtype}});A.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};var F=Object(n.b)(e=>{if(S(e)===s.g.Creator)return s.c.CHANNEL;var t=m(e).send_message_task;return t&&t.type});F.meta={name:"getSendMessageTaskType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageTaskType"};var k=Object(n.b)(e=>{if(S(e)===s.g.Creator)return O(e);var t=m(e).send_message_task;return(t&&t.type)===s.c.CHANNEL?t.send_to_channel_id:""});k.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};var w=Object(n.b)(e=>e.welcomePlace.welcomePlaceSettings);w.meta={name:"getWelcomePlaceSettings",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWelcomePlaceSettings"},Object(n.b)(e=>{var t=w(e);return t.sendToChannelId?t.sendToChannelId:""}).meta={name:"getSendToChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendToChannelId"};var D=Object(n.b)(e=>{return"completed"===(E(e,s.f.SendMessage)||{}).state});D.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};var C=Object(n.b)(e=>Object(a.b)(e,"sendYourFirstMessageBannerEnabled"));C.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};var R=Object(n.b)(e=>e.welcomePlace.isAnimationStarted);R.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"};var P=Object(n.b)(e=>e.welcomePlace.invitedUsers);P.meta={name:"getInvitedUsers",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInvitedUsers"};var N=Object(n.b)(e=>e.welcomePlace.defaultWelcomeMessages);N.meta={name:"getDefaultWelcomeMessages",key:"welcomePlaceStoreWelcomePlaceSelectorsGetDefaultWelcomeMessages"};var x=Object(n.b)(e=>e.welcomePlace.customWelcomeMessage);x.meta={name:"getCustomWelcomeMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetCustomWelcomeMessage"};var B=Object(n.b)(e=>e.welcomePlace.sentMessageChannelId);B.meta={name:"getSentMessageChannelId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSentMessageChannelId"}},btH0:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("wHps");function a(e){return Object.values(n.a).includes(e)}},btvA:function(e,t,r){"use strict";r.d(t,"a",function(){return k});var n=r("ifKl"),a=r("9ndk"),o=r("vJtL"),i=r("OZf9"),s=r("4Z3G"),c=r("x4bP"),d=r("lhZz"),l=r("70KD"),u=r("5v1V"),_=r("q/xz"),m=r("s4P+"),p=r("G+lx"),b=r("qOZF"),f=r("Smdl"),h=r("9kTo"),v=r("tOdR"),g=r("VocD"),O=r("eK5+"),S=r("Pw4T"),I=r("fG3o"),y=r("0Wfr"),j="COND-FETCH",E=Object(y.a)(l.d,16,!1),T=1/0,A=200,F=2e3,k=6e4,w=Object(O.a)(1),D=()=>Object(p.a)()||Object(b.a)(),C=!1;class ConditionalFetchManager{constructor(e){if(!e.fetch)throw new Error("ConditionalFetchManager must be passed a `fetch` function");this._fetch=e.fetch,this._maxAge=e.maxAge,this._isEnabledCallback=e.isEnabled||(()=>Object(c.a)()),this._connectionCounts={},this._versions={},this._objectFreshnessTTLs={},this._lastRefetchTimesByTeam={},this._metricsName=e.metricsName,this._pendingIdsByTeam={},this._fetchPromiseByTeam={},Object(_.a)(this),Object(c.a)()||ConditionalFetchManager.startListening()}isObjectFresh(e,t){if(!this._isEnabled(e))return!0;this._maybeResetState(e);var r=Object(I.a)();return(this._objectFreshnessTTLs[e]&&this._objectFreshnessTTLs[e][t])>r}markObjectsAsFresh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._isEnabled(e)){this._maybeResetState(e),this._objectFreshnessTTLs[e]=this._objectFreshnessTTLs[e]||{};var r=Object(I.a)();t.forEach(t=>{var n=r+this._getMaxAge(e,t);this._objectFreshnessTTLs[e][t]=n}),Object(m.a)(Object(g.a)(e)).debug(j,"Marking ids as fresh: "+t)}}markObjectsAsStale(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this._isEnabled(e)){this._maybeResetState(e),this._objectFreshnessTTLs[e]=this._objectFreshnessTTLs[e]||{};var r=t.filter(t=>!!this._objectFreshnessTTLs[e][t]&&(delete this._objectFreshnessTTLs[e][t],!0));r.length&&(Object(m.a)({teamId:e}).debug(j,"Marking ids as stale: "+r),Object(d.dispatchForTeamId)(e,E()))}}maybeRefetch(e,t){ConditionalFetchManager.refetchPaused||this.isObjectFresh(e,t)||this._isEnabled(e)&&this._ensureObjectsAreFresh(e,[t])}getFreshObjects(e){var t=Object(I.a)(),r=[];return Object(i.a)(this._objectFreshnessTTLs[e],(e,n)=>{e>t&&r.push(n)}),r}_ensureObjectsAreFresh(e,t){if(this._isEnabled(e)&&t&&t.length){this._maybeResetState(e);var r=this._getPendingIdsForTeam(e),n=!1;t.forEach(t=>{this.isObjectFresh(e,t)||(r.add(t),n=!0)}),n&&this._refetchPendingObjects(e)}}_getPendingIdsForTeam(e){return this._pendingIdsByTeam[e]||(this._pendingIdsByTeam[e]=new Set),this._pendingIdsByTeam[e]}_isEnabled(e){return!(!C&&D())&&(!Object(v.a)()&&this._isEnabledCallback(e))}_maybeLogBatchSizeStat(e,t){if(w&&this._metricsName&&t&&t.size){var r=Object(d.getStateByTeamId)(e);Object(S.d)({state:r}).count("cfm_"+this._metricsName+"_fetch",t.size)}}_updateAfterRefetch(e,t){this.markObjectsAsFresh(e,t);var r=this._getPendingIdsForTeam(e);r.size&&t.forEach(e=>r.delete(e))}_refetchPendingObjects(e){if(this._isEnabled(e)&&!this._fetchPromiseByTeam[e]&&this._getPendingIdsForTeam(e).size){var t,r,a=(this._lastRefetchTimesByTeam[e]||0)+A,o=Math.max(0,a-Date.now());Object(m.a)({teamId:e}).debug(j,"Will re-fetch objects after "+o+" ms delay"),this._lastRefetchTimesByTeam[e]=Date.now(),this._fetchPromiseByTeam[e]=s.a.delay(o).then(()=>{var a=Object(d.getStateByTeamId)(e);return t=Object(u.f)(a),r=this._getPendingIdsForTeam(e),this._pendingIdsByTeam[e]=new Set,r.size?(Object(m.a)({teamId:e}).debug(j,"Re-fetching ("+r.size+"): "+r),this._maybeLogBatchSizeStat(e,r),this._fetch(e,[...r]).timeout(k).catch(n.a)):(Object(m.a)({teamId:e}).debug(j,"Nothing to fetch after delay after all"),s.a.resolve())}).finally(()=>{delete this._fetchPromiseByTeam[e];var n=Object(d.getStateByTeamId)(e),a=Object(u.f)(n);if(a>1&&a!==t){Object(m.a)({teamId:e}).debug(j,"Connection changed while re-fetching; need to re-fetch ids "+r);var o=this._getPendingIdsForTeam(e);r.forEach(e=>o.add(e)),this._maybeResetState(e)}else this._updateAfterRefetch(e,r);Object(d.dispatchForTeamId)(e,Object(l.d)()),Object(m.a)({teamId:e}).debug(j,"Re-fetch complete. Now pending: "+this._getPendingIdsForTeam(e).size),this._getPendingIdsForTeam(e).size&&this._refetchPendingObjects(e)})}}_maybeResetState(e){if(this._isEnabled(e)){var t=Object(d.getStateByTeamId)(e);this._connectionCounts[e]||(this._connectionCounts[e]=1);var r=Math.max(Object(u.f)(t),1),n=this._connectionCounts[e];this._connectionCounts[e]=r,this._versions[e]||(this._versions[e]=Object(l.b)(t));var a=Object(l.b)(t),o=this._versions[e];this._versions[e]=a,n!==r?(Object(m.a)({teamId:e}).debug(j,"Connection count "+n+" -> "+r),this._objectFreshnessTTLs[e]={}):o!==a&&(Object(m.a)({teamId:e}).debug(j,"Version "+o+" -> "+a),this._objectFreshnessTTLs[e]={})}}_getMaxAge(e,t){var r=Object(o.a)(this._maxAge)&&parseInt(this._maxAge(e,t),10);return Object(a.a)(r)?r:T}static startListening(){Object(h.a)()||document&&document.addEventListener("keypress",ConditionalFetchManager.pauseRefetch,{passive:!0})}static pauseRefetch(){clearTimeout(ConditionalFetchManager.refetchPaused),ConditionalFetchManager.refetchPaused=setTimeout(()=>{ConditionalFetchManager.refetchPaused=0},F)}static pauseRefetchIndefinitely(){clearTimeout(ConditionalFetchManager.refetchPaused),ConditionalFetchManager.refetchPaused=1}static unpauseRefetchImmediately(){ConditionalFetchManager.refetchPaused=0}}ConditionalFetchManager.refetchPaused=Object(f.a)(),t.b=ConditionalFetchManager},c6rO:function(e,t,r){"use strict";r.d(t,"c",function(){return w}),r.d(t,"b",function(){return D}),r.d(t,"a",function(){return C});var n=r("7EGn"),a=r("vFlG"),o=r("lE2N"),i=r("x91h"),s=r("3Hq1"),c=r("/1FC"),d=r("aK/h"),l=r("6jsb"),u=r("A2B7"),_=r("lhZz"),m=r("V2no"),p=r("brL+"),b=r("5mKg"),f=r("ROZo"),h=Object(f.b)("TS.permissions.teams.canLeaveTeam",()=>!1),v=r("h9PG"),g=r("Smdl"),O=r("YjHT"),S=r("5v1V"),I=r("ycWl"),y=r("s4P+"),j=r("5IZy"),E=r("ktUG"),T=r("NshN"),A=r("wyox"),F=r("1hAG"),k=r("RrZ/"),w=Object(l.b)("Upsert a team",function(e,t){var{team:r,isExternal:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r||!r.id)return r;var i=t(),d=Object(y.a)({getState:t}),l=Object(p.b)(i)||Object(p.a)(i);Object(T.a)(l,[r.id]);var u=Object(F.l)(i,r.id)?Object(F.j)(i,r.id,!1):{},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name||e.name?{isUnknown:!1,isNonExistent:!1}:{}}(u,r),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(a.a)(t,"is_over_storage_limit"))return{over_storage_limit:!!t.is_over_storage_limit};var{over_storage_limit:r}=Object.assign({},e,{},t);return Object(s.a)(r)?{}:{over_storage_limit:r}}(u,r),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.profile,n=t.profile,a=function(){var{fields:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{fields:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&!t?e:t;return Object(c.a)(r)?r:[]}(r,n);return Object.assign({},r,{},n,{fields:a})}(u,r),h=function(e){var{_other_account:t}=e;return{_other_account:!!t}}(r),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==t.is_migrating)return{is_migrating:t.is_migrating};return void 0!==e.is_migrating?{}:{is_migrating:!1}}(u,r,i),R=Object.assign({},u,{},r,{},_,{},v,{},b,{profile:f},h);o&&e(Object(m.a)({id:R.id}));return Object.defineProperties(R,{channels:{get:()=>(d.warn("EXT_TEAMS_CHANNELS","Accessing `channels` directly from the team object is deprecated. Use `getChannelsByTeamId` instead."),Object(k.b)(t(),r.id)),enumerable:!1},counts:{get:()=>(d.warn("EXT_TEAMS_CHANNELS","Accessing `counts` directly from the team object is deprecated. Use `getChannelCountsByTeamId` instead."),Object(k.a)(t(),r.id)),enumerable:!1}}),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r.external_org_migrations)return;var a=Object(p.b)(t);if(r.id!==a)return;if(Object(O.g)(t)){var o=Object(F.j)(t,a),i=Object(n.a)(o,"external_org_migrations.date_updated");if(void 0!==i&&i<r.external_org_migrations.date_updated){var s="team.external_org_migrations has updated for current team "+o.id+", external team data could be stale";Object(g.a)()?Object(I.a)({immediate:!0,reason:s,reasonKey:"external_org_migrations"}):Object(I.b)({noCache:!0,reason:s,reasonKey:"external_org_migrations"});var c=Object(j.a)({state:t});c.track(E.EventId.ENTERPRISE_EXTERNAL_ORG_MIGRATION,{contexts:{ui_context:{action:E.UiAction.FORCE_COLD_BOOT,step:Object(S.o)(t)?E.UiStep.RECONNECT:E.UiStep.BOOT}}}),c.sendDataAndEmptyQueue()}}var d=!1;r.external_org_migrations.current&&r.external_org_migrations.current.forEach(r=>{var n=Object(F.j)(t,r.team_id);n&&(e(w({team:Object.assign({},n,{is_migrating:!0})})),d=!0)});d&&e(D())}(e,i,R),R=C(R),e(Object(A.a)(R)).payload});w.meta={name:"upsertTeam",key:"teamsStoreUpsertTeamUpsertTeam",description:"Upsert a team"},w.propTypes={team:d.default.shape({id:d.default.string.isRequired}).isRequired};var D=Object(u.b)("Trigger side effects when a migration for an external org has updated");function C(e){if(!Object(b.q)(e))return e;var t=e;return t=function(e){if(!Object(b.q)(e))return e;var t=e;if(t.top_combined_channels||(t.top_combined_channels=[]),t.your_channels||t.your_groups){var r=[];t.your_channels&&(r=r.concat(t.your_channels)),t.your_groups&&(r=r.concat(t.your_groups)),t.top_combined_channels=Object(o.a)(t.top_combined_channels.concat(r),"id").sort((e,t)=>{var r=e.name.toLowerCase(),n=t.name.toLowerCase();return r<n?-1:r>n?1:0})}return t}(t=function(e){if(!Object(b.q)(e))return e;var t=e;return h(t)&&(t.can_leave=!0,t.cannot_leave_reasons=[]),t}(t=function(e){if(!Object(b.q)(e))return e;var t=e;return void 0===t.joined_date&&(t.joined_date=0),t}(t=function(e){if(!Object(b.q)(e))return e;var t=e;return t.user_counts||(t.user_counts={}),t.user_counts.active_members||(t.user_counts.active_members=0),t}(t=function(e){if(!Object(b.q)(e))return e;var t=e;return t.description=Object(i.a)(t.description),t}(t=function(e){if(!Object(b.q)(e))return e;var t=e;switch(t.is_open=!1,t.is_closed=!1,t.is_unlisted=!1,t.discoverable||Object(_.getStoreInstanceByTeamId)(e.id)&&Object(v.a)(Object(_.getStateByTeamId)(e.id),"discoverable")){case"public":case"open":t.is_open=!0;break;case"private":case"closed":t.is_closed=!0;break;case"invite_only":t.is_invite_only=!0;break;case"unlisted":default:t.is_unlisted=!0}return t}(t))))))}D.meta={name:"updateExternalTeamMigration",key:"teamsStoreUpsertTeamUpdateExternalTeamMigration",description:"Trigger side effects when a migration for an external org has updated"},D.propTypes={}},"d/52":function(e,t,r){"use strict";r.r(t);var n=r("4Z3G"),a=r("z2u5"),o=r("Omjo"),i=r("qe1s"),s=r("4Ms+"),c=r("Gogr"),d=r("lKeU"),l=r("HuaI"),u=r("IY6O"),_=r("TSHB"),m=r("m8R6"),p=r("fujP"),b=r("7EGn"),f=r("vfQU"),h=r("VMwU"),v=r("cErB"),g=()=>{var e=Object(f.I)("teams"),t=Object(f.I)("enterprise");if(!e)return null;var r=function(){var{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(h.d)(e.column_bg,20)},n=function(){var{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},a=function(){var{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var{host:t,protocol:r}=Object(v.n)(e);return r+"//"+t+"/"},o=Object.keys(Object(c.c)("teams")||{}),i=Object(m.a)(e,o);return Object(_.a)(i,e=>({id:e.team_id,name:e.team_name,url:a(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:n(e),teamSwitcherBackground:r(e),isExpired:!0}))};var O=r("vATg"),S=r("sDWr"),I=r("Qe/g"),y=r("KXvl"),j=r("rWF5"),E=r("JnmR"),T=(r("i/gx"),".p-client_container_placeholder"),A=".p-client_container_placeholder__nav";function F(e){var{teamId:t,showTeamSwitcher:r=!1}=e,n=Object(c.e)(t,"channelSidebarBackground"),a=Object(c.e)(t,"teamSwitcherBackground"),o=Object(c.e)(t,"textColor"),i=Object(c.e)(t,"topNavBackground")||n,s=document.querySelector(T);if(s)if(Object(I.a)())!function(e){var t=document.createElement("div");t.classList.add("p-view_header_placeholder"),e.appendChild(t);var r=document.createElement("div");r.classList.add("p-message_input_placeholder"),e.appendChild(r),e.classList.add("p-client_container_placeholder--channel-popout")}(s);else{var d=s.querySelector(A);if(n){if(Object(y.b)()&&r&&(s.classList.add("p-client_container_placeholder--with-team-switcher"),s.style.borderLeftColor=a),d&&o&&n){var l=Object(h.k)(o,n,.1),u=Object(h.n)(o,.1);s.style.borderRightColor=l,Object(j.E)()&&Object(j.l)()&&(d.style.height="7px"),d.style.backgroundColor=i,d.style.color=u,Object(y.b)()&&r&&(s.style.removeProperty("border-left-color"),s.style.boxShadow="-60px 0px 0px 0px "+n,d.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}var _=n,m=Object(c.e)(t,E.b);isNaN(m)||(s.style.width=m+1+"px",Object(y.b)()&&r&&0===m&&(s.style.width="60px",_="none",s.style.borderRight="none")),s.style.backgroundColor=_,s.style.opacity="1"}else k()}}function k(){var e=document.querySelector(T);e&&e.remove()}var w=r("JtEI"),D=r("A4VO"),C=r("rb67"),R=Object(j.g)();R!==j.a.SAFARI&&R!==j.a.EDGE||Object(C.e)();var P=!1;function N(){P=!0}Object(j.y)()&&navigator.serviceWorker.addEventListener("controllerchange",N),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),n.a.resolve(Object(s.b)({label:"setupGantry_"+Object(w.d)(Object(D.a)())},a.a)).then(e=>{var{teamId:t,forceColdBoot:r,triggerSignInAfterBoot:a,teamIdFromUrl:o}=e;return Object(j.l)()&&!Object(c.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(c.c)("prevTeams"),t=Object(p.a)(e)?Object(f.fb)()&&g():e;Object(c.m)("prevTeams",t);var r=Object(c.c)("orderedTeamIds"),n=Object(p.a)(r)?Object(b.a)(Object(f.I)("appTeams"),"teamsByIndex",[]):r;Object(c.m)("orderedTeamIds",n)}(),Object(c.m)("migratedDesktopLocalConfig",!0)),F({teamId:t,showTeamSwitcher:Object(d.a)().length>1}),Object(s.b)({label:"bootClient_"+Object(w.d)(r)},function(){var e,r;Object(S.q)(),t!==Object(c.c)("lastActiveTeamId")&&Object(c.m)("lastActiveTeamId",t);var s=new URL(window.location),d=(null==s?void 0:null===(e=s.searchParams)||void 0===e?void 0:e.get("pause_boot_step"))&&parseInt(null==s?void 0:null===(r=s.searchParams)||void 0===r?void 0:r.get("pause_boot_step"),10);return new n.a(e=>{1===d?window.nextBootStep=e:e()}).then(()=>Object(i.b)({teamId:t,shouldSetFocus:!0})).then(e=>{var t=Date.now(),{store:r,bootAssets:n,isWarmBooting:i}=e,{isJsPath:s,mountClient:c,isReload:d,isQa:l,isDev:u,registerGlobalErrorHandler:_,registerGlobalBeforeunloadHandler:m,registerNetworkConnectivityListener:p}=n;_(),m(),p();var b=r.getState(),f=n.getTelemeter({state:b}),h=i?"warm":"cold";s||u||l||(f.store("sonic_boot_phase_2_"+h,Date.now()-window.sonic_boot__phase_2__start),d()&&f.count("sonic_boot_via_reload"));var v=!0;return k(),c(document.querySelector(".p-client_container"),()=>{s||u||l||!v||(f.store("sonic_boot_phase_3_"+h,Date.now()-t),v=!1)}),Object.assign({},e,{triggerSignInAfterBoot:a,teamIdFromUrl:o})})})}).catch(e=>{k(),Object(O.e)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),n.a.resolve(e)}).tap(function(){var{bootAssets:e,triggerSignInAfterBoot:t,teamIdFromUrl:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;var{startWorkspaceSignIn:n,getClientStoreInstance:a}=e;a().dispatch(n({teamId:r}))}).then(function(e){if(!Object(y.b)())return n.a.resolve(e);var t=e.teamId,r=e.bootAssets.getAllWorkspacesFromLocalConfig(),a=e.bootAssets.getWorkspacesMetaFromLocalConfig(),s=r.filter(e=>a[e]&&!a[e].isExpired).filter(e=>e!==t);return Object(o.b)("BOOT","Booting other teams: "+s.join(",")),s.map(e=>i.b.bind(null,{teamId:e})).reduce((e,t,r)=>e.catch(e=>{Object(O.a)(s[r-1],e)}).finally(t),n.a.resolve()).then(()=>e)}).then(function(e){var{bootAssets:t}=e,{registerMinVersionPoll:r}=t;return r(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeSSBMemoryStatsOnAnInterval:r}=t;return r(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeReduxStoreStatsOnAnInterval:r}=t;return r(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{registerServiceWorker:r,fetchApiCallsForCaching:a}=t;if(!Object(j.y)())return n.a.resolve(e);P&&(a(e),navigator.serviceWorker.removeEventListener("controllerchange",N));return navigator.serviceWorker.addEventListener("controllerchange",()=>{a(e)}),r(),n.a.resolve(e)}).then(function(e){var{bootAssets:t}=e,{isJsPath:r,isProduction:a,removeUrlQueryStringValue:o}=t;if(a&&!r){if(window.location.search.match("force_cold_boot")){var i=o(window.location.href,"force_cold_boot");window.history.replaceState({},"",i)}if(window.location.search.match("new_enough_acceptable")){var s=o(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",s)}}return n.a.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(()=>e)}).then(function(e){var{getClientStoreInstance:t,getStoreInstanceByTeamId:r,initPersistenceForTeam:a}=e.bootAssets,o=t();return Object(u.getBootedWorkspaces)(o.getState()).forEach(e=>{var t=r(e);a({teamId:e,store:t})}),n.a.resolve(e)}).tap(function(e){return e.bootAssets.reportLongTailTeamUsage(e),n.a.resolve(e)}).then(function(e){var{getClientStoreInstance:t,getGenericTelemeter:r}=e.bootAssets;return t().dispatch(Object(l.setDidBootAllWorkspaces)()),r().count("sonic_boot_completed"),Object(i.a)(),n.a.resolve(e)})},fG3o:function(e,t,r){"use strict";function n(){return Math.floor(Date.now()/1e3)}r.d(t,"a",function(){return n})},h9PG:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("zgq7"),a=Object(n.b)((e,t)=>e&&e.prefs&&e.prefs.team&&e.prefs.team[t]);a.meta={name:"getTeamPref",key:"prefsStoreTeamSelectorsGetTeamPref"}},hgYl:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=r("Smdl"),a=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(n.a)()?["search_results","activity","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle"]:["convo","groups","team","stars","mentions"]],o={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",TASKS:"tasks",BOARDS:"board"}},"i/gx":function(e,t,r){},iPQX:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("quKg");function a(e){return"page"===Object(n.c)(e,"search_as_a_page")}},jr0b:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={SUCCESS:"success",ERROR:"error"}},kcos:function(e,t,r){"use strict";r.d(t,"e",function(){return b}),r.d(t,"f",function(){return f}),r.d(t,"g",function(){return h}),r.d(t,"d",function(){return v}),r.d(t,"c",function(){return g}),r.d(t,"b",function(){return O}),r.d(t,"a",function(){return S});var n=r("IniL"),a=r("quKg"),o=r("1hAG"),i=r("6jsb"),s=r("VMwU"),c=r("W+QA"),d=r("cW5R"),l=r("icQl"),u=r("vya+"),_=r("Pw4T"),m=Object(l.a)(()=>Object(d.e)("iap2")),p=new u.a("iap2"),b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"treatment"===Object(a.c)(e,"iap2",t)||("rollback"===Object(a.c)(e,"iap2_rollback",!1)?(p.get()&&p.remove(),"treatment"===m()&&Object(d.c)("iap2"),!1):"treatment"===p.get()||("treatment"===m()?(p.set("treatment"),!0):(p.get()&&p.remove(),!1)))},f=e=>e&&"treatment"===Object(a.c)(e,"ia_sidebar_a11y"),h=()=>!0,v=e=>Object(n.j)(e,"feature_ia_context_menus")||(e=>!!e&&("treatment_optin"===Object(a.c)(e,"iap1")||"treatment"===Object(a.c)(e,"iap1")))(e),g=e=>e&&"treatment"===Object(a.c)(e,"ia_channel_details"),O=(e,t,r)=>{if((null==r?void 0:r.top_nav_bg)&&(null==r?void 0:r.top_nav_text))return Object(c.e)({top_nav_bg:r.top_nav_bg,top_nav_text:r.top_nav_text});if("custom_theme"!==e&&"workspace_default"!==e&&"org_default"!==e)return Object(c.e)({top_nav_bg:null==r?void 0:r.menu_bg,top_nav_text:null==r?void 0:r.text_color});if(t&&t.top_nav_bg&&t.top_nav_text)return Object(c.e)({top_nav_bg:t.top_nav_bg,top_nav_text:t.top_nav_text});var n=null==r?void 0:r.text_color,a=Object(s.c)(null==r?void 0:r.text_color,null==r?void 0:r.menu_bg)>=4.5?null==r?void 0:r.menu_bg:null==r?void 0:r.column_bg;return Object(c.e)({top_nav_bg:a,top_nav_text:n})},S=Object(i.b)("Beacon rollout metrics for IAP2",(e,t)=>{var r=t(),n=Object(_.d)({state:r}),i=Object(o.d)(r).plan;b(r,!1)&&n.count("iap2_enabled_plan_"+i),"treatment"===Object(a.c)(r,"iap2",!1)&&n.count("iap2_enabled_has_experiment"),"treatment"===p.get()&&n.count("iap2_enabled_has_ls"),"treatment"===m()&&n.count("iap2_enabled_has_cookie"),"rollback"===Object(a.c)(r,"iap2_rollback",!1)&&n.count("iap2_disabled_rollback")});S.meta={name:"beaconIAP2Metrics",key:"utilityIaBeaconIAP2Metrics",description:"Beacon rollout metrics for IAP2"}},lKeU:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("cZF4"),a=r("Muja"),o=r("0VPD"),i=r("Gogr");function s(){var e=Object.keys(Object(i.g)()),t=Object.keys(Object(i.f)()),r=Object(n.a)(e,t),s=Object(i.c)("orderedTeamIds"),c=Object(n.a)(Object(o.a)(s,r),e);return Object(a.a)(c,s)||Object(i.m)("orderedTeamIds",c),c}},oKz6:function(e,t,r){"use strict";r.d(t,"e",function(){return a}),r.d(t,"f",function(){return i}),r.d(t,"d",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return l});var n=r("zgq7"),a=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.inCreatorOnboarding);a.meta={name:"isInCreatorOnboarding",key:"onboardingStoreOnboardingSelectorsIsInCreatorOnboarding"};var o=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.inJoinerOnboarding);o.meta={name:"isInJoinerOnboarding",key:"onboardingStoreOnboardingSelectorsIsInJoinerOnboarding"};var i=Object(n.b)(e=>a(e)||o(e));i.meta={name:"isInOnboarding",key:"onboardingStoreOnboardingSelectorsIsInOnboarding"},Object(n.b)(e=>e&&e.onboarding&&e.onboarding.onboardingChannelId).meta={name:"getOnboardingChannelId",key:"onboardingStoreOnboardingSelectorsGetOnboardingChannelId"},Object(n.b)(e=>e&&e.onboarding&&e.onboarding.welcomeModel||{}).meta={name:"getWelcomeModel",key:"onboardingStoreOnboardingSelectorsGetWelcomeModel"};var s=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.tractorMessageCoachmarkVisible);s.meta={name:"getTractorMessageCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetTractorMessageCoachmarkVisibility"};var c=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.tractorFilesCoachmarkVisible);c.meta={name:"getTractorFilesCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetTractorFilesCoachmarkVisibility"};var d=Object(n.b)(e=>e&&e.onboarding&&e.onboarding.joinerLandingPlaceCoachmarkVisible);d.meta={name:"getJoinerLandingPlaceCoachmarkVisibility",key:"onboardingStoreOnboardingSelectorsGetJoinerLandingPlaceCoachmarkVisibility"};var l=Object(n.b)((e,t)=>{var r;return null==e?void 0:null===(r=e.onboarding)||void 0===r?void 0:r[t]});l.meta={name:"getOnboardingData",key:"onboardingStoreOnboardingSelectorsGetOnboardingData"}},qe1s:function(e,t,r){"use strict";r.d(t,"a",function(){return K}),r.d(t,"b",function(){return q});var n=r("xnu4"),a=r("4Z3G"),o=r("Omjo"),i=r("lhZz"),s=r("8Az7"),c=r("jngr"),d=r("vATg"),l=r("A4VO"),u=r("Gogr"),_=r("rkcT"),m=r("cewN"),p=r("cErB"),b=r("TdUT"),f=r("cW5R"),h=["force_cold_boot"];var v=r("txCA"),g=r("IbTH"),O=r("YjHT"),S=r("nNoG"),I=r("BNw7"),y=r("toaU"),j=r("sDWr"),E=r("POHe"),T=r("iTOt"),A=r("IniL"),F=r("0QyR"),k=r("JtEI"),w=r("DlLn"),D=r("fhz1"),C=r("KXvl");function R(e){if(!e.shouldSetFocus)return a.a.resolve(e);var{teamId:t,bootAssets:r}=e,{configureClientStore:n,getAllWorkspacesFromLocalConfig:o,getWorkspacesMetaFromLocalConfig:i,initializeWorkspacesStore:s}=r,c=n(),d=Object(C.b)()?o():[t],l=i();return c.dispatch(s({focusedWorkspace:t,allWorkspaces:d,workspacesMeta:l})),a.a.resolve(e)}function P(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),a.a.resolve(e)):a.a.resolve(e)}var N="ensure_boot_data_failed",x=["user_removed_from_team","invalid_auth","not_authed","userLogin"],B="accesslimited",L="two_factor_setup_required";function M(e,t){if(window.isReloading)return Object(o.b)("BOOT","("+e.teamId+") Ongoing reload detected during ensure boot data error handler; Halting execution."),Object(I.a)();if(t&&t.data&&t.data.error===L)return Object(D.a)(e.teamId);if(t&&t.data&&t.data.error&&x.includes(t.data.error)&&!t.doNotFetchAuth)return Object(w.d)();var n=!!(t&&t.data&&t.data.active_migration),a=!(!t||!t.data||t.data.error!==B),i=Object.assign({},e,{bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:a});if(!n){var s;Object(o.a)("Caught boot data error",t);var d=(null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.error)||(null==t?void 0:t.message)||"";Object(c.a)({error:t,teamId:e.teamId,description:Object(k.f)()+" boot failed to fetch boot data: "+d,subtype:Object(k.f)()+"_boot_data_error",version:Object(b.a)()})}return function(e){var t=function(e){return Promise.all([r.e("gantry-vendors-async"),r.e("gantry-vendors-async-client"),r.e("client-boot-styles"),r.e("client-boot-imports")]).then(r.bind(null,"OrkY")).then(t=>Object.assign({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(U));return t.then(W)}(i).then(e=>{var t=new Error(N);throw t.context=e,t})}function U(e){return R(e).then(P).then(()=>{var{bootAssets:t}=e,{registerServiceWorker:r}=t;return r(),a.a.resolve(e)})}function W(e){var{teamId:t,bootAssets:r,bootFailedDueToOrgMigration:n,bootFailedDueToAccessLimited:i}=e,{configureStore:s,reducers:c,middlewares:d,setWorkspaceFailedToBoot:l,setWorkspaceIsMigrating:u,setWorkspaceIsAccessLimited:_,getClientStoreInstance:m,navigateToRoute:p,setWillNavigateToUnbootedWorkspaceId:b,getWillNavigateToUnbootedWorkspaceId:f}=r;Object(o.c)("BOOT","("+e.teamId+") failed to create store; initializing empty team store");var h=s({teamOrEnterpriseId:t,initialState:{},reducers:c,middlewares:d}),v=Object.assign({},e,{store:h}),g=m();return g.dispatch(l(t)),n&&(g.dispatch(u(t)),Object(o.c)("BOOT","("+e.teamId+") Workspace boot failed due to active migration")),i&&g.dispatch(_(t)),f(g.getState())===t?(p(y.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),g.dispatch(b(null)),a.a.resolve(e)):a.a.resolve(v)}var G={};function K(){Object.keys(G).forEach(e=>{delete G[e]})}function q(e){var{teamId:t,shouldSetFocus:r=!1}=e;return window.isReloading?(Object(o.b)("BOOT","("+t+") Ongoing reload detected; Cancelling boot."),Object(I.a)()):G[t]?G[t]:(G[t]=function(e,t){Object(o.b)("BOOT","("+e+") Initializing boot");var r=Object(l.a)(),n=Object(u.e)(e,"token"),i=Object(u.e)(e,"user_id"),s=Object(m.a)(window.location.search),c=function(e,t){var r={},n=Object.assign({},Object(f.d)(t),{},Object(m.d)(e));return Object.keys(n).forEach(e=>{if(e.startsWith("force_")&&!h.includes(e)&&n[e]){var t=e.slice(6);n[e].split(",").forEach(e=>{var n="all",a=e,o=e.indexOf(":");o>=0&&(n=e.slice(0,o),a=e.slice(o+1)),r[n]||(r[n]={}),r[n][t]=a})}}),r}(window.location.search,document.cookie);return a.a.resolve({teamId:e,teamToken:n,forceColdBoot:r,featureFlagURLOverrides:s,experimentGroupOverrides:c,shouldSetFocus:t,shouldRetry:!0,userId:i,bootedOffline:!window.navigator.onLine})}(t,r).then(e=>(function(e){return Object(s.c)(e.teamToken,e.teamId),a.a.resolve(e)})(e).then(V).then(H).then(z).then(Q).then(R).then(P).then(Y).then(X).then(Z).then($).then(re).then(ne).then(ae).then(oe).then(ie).then(se).then(ce).then(le).then(de).then(ue).then(_e).catch(r=>{return te(t),r&&r.message===N?r.context:Object(d.e)(r,Object.assign({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),G[t])}function V(e){var t={},{teamId:n,teamToken:o,forceColdBoot:i,shouldSetFocus:s,store:c,userId:l,bootedOffline:u}=e,m=Object(_.c)({store:c,shouldSetFocus:s});if(!m){var p=Object(_.d)(n);p&&(m=p)}var b=[Promise.all([r.e("gantry-vendors-async"),r.e("gantry-vendors-async-client"),r.e("client-boot-styles"),r.e("client-boot-imports")]).then(r.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.b.bind(null,n)),Object(F.a)({teamId:n,teamToken:o,routeInfo:m,forceAPI:i,userId:l,shouldSetFocus:s,bootedOffline:u,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(M.bind(null,e)),Object(g.a)(Object(S.r)({recalc:!0,teamOrEnterpriseId:n})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(d.c.bind(null,n))];return a.a.all(b).then(r=>{var[n,{isWarmBooting:a,bootData:o}={}]=r;return t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now(),J(Object.assign({},e,{bootAssets:n,bootData:o,isWarmBooting:a,timing:t,routeInfo:m}))})}function H(e){var{bootData:t,isWarmBooting:r,teamId:n}=e||{};if(r)return a.a.resolve(e);var{miscBootData:i,teamData:s}=t||{},{domain:c}=s||{},{acceptTosUrl:d}=i||{};if(!d||!c)return a.a.resolve(e);var l=Object(m.f)(location.search,"force_cold_boot",1),u="/gantry"+location.pathname+l,_=Object(p.s)(d,"redirect",u);return Object(o.b)("BOOT","("+n+") User needs to accept the terms of service; redirecting to "+_),location.assign(_),Object(I.a)()}function z(e){var{teamId:t,bootAssets:r}=e,{setLocale:n,getLocale:o}=r;return a.a.resolve(n(o({teamOrEnterpriseId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function Q(e){var{teamId:t,isWarmBooting:r,bootAssets:n,featureFlagURLOverrides:o,bootData:i}=e,{getImmediatelyPersistedState:s,reducers:c,purgeStoredModel:l,forceColdBoot:u,processStoredState:_}=n;return(()=>r?_({teamId:t,reducerConfig:c,storedState:i}):a.a.resolve({}))().then(n=>{if(!n)return u({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(I.a)();var a=Object.assign({},n,{bootData:Object.assign({},n.bootData,{},o,{version_ts:Object(b.a)()})}),d=r?n&&n.bootData&&n.bootData.user_id:i&&i.selfData&&i.selfData.id,l=s({teamId:t,userId:d,reducerConfig:c,state:a});return J(Object.assign({initialState:l,userId:d},e))}).catch(e=>(Object(d.d)(t,l,u,e),Object(I.a)()))}function Y(e){var{bootAssets:t}=e,{loadEmojiTranslations:r}=t;return r(),e}function X(e){var{teamId:t,bootAssets:r}=e;return r.populateTeamDebugger(t),a.a.resolve(e)}function J(e){var{initialState:t,bootAssets:r,bootData:n,isWarmBooting:a}=e,o=a?t&&t.bootData:n&&n.miscBootData;return r.maybeReloadForMinVersionBump({isWarmBooting:a,bootData:o}).then(t=>t?Object(I.a)():Object.assign({},e,{isReloadingForMinVersionBump:t}))}function Z(e){if(!e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting warm");var{teamId:t,bootAssets:r,experimentGroupOverrides:n,initialState:i={}}=e,{configureStore:s,reducers:c,overrideExperimentAssignments:d,middlewares:l}=r,u=s({teamOrEnterpriseId:t,initialState:i,reducers:c,middlewares:l});u.dispatch(Object(O.k)(!0)),n&&n.all&&u.dispatch(d(n.all)),n&&n[t]&&u.dispatch(d(n[t]));var _=e.timing||{};_.sonic_boot__phase_2_2_2__duration=Date.now()-_.sonic_boot__phase_2_2_2__start;var m=Object.assign({},e,{store:u,timing:_});return a.a.resolve(m)}function $(e){if(e.isWarmBooting)return e;Object(o.b)("BOOT","("+e.teamId+") Booting cold");var{teamId:t,bootData:r,bootAssets:n,featureFlagURLOverrides:i,experimentGroupOverrides:s,shouldSetFocus:c,initialState:d={}}=e,{dispatchBootData:l,getMembersById:m,configureStore:p,reducers:b,middlewares:f,checkForPersistenceMethodChanges:h}=n;return h(t).then(()=>{var n=p({teamOrEnterpriseId:t,reducers:b,initialState:d,middlewares:f}),o=Object.assign({},e,{store:n}),h=Object(_.c)({store:n,shouldSetFocus:c});if(n.dispatch(Object(O.k)(!1)),!h){var v=Object(_.d)(t);v?h=v:r.channelsData&&(h=ee(r))}l(n,r,h,i,s);var g=n.getState(),S=(r&&r.membersToFetch||[]).filter(e=>!(g&&g.members&&g.members[e]));m(g,S);var I=o.timing||{};I.sonic_boot__phase_2_2_2__duration=Date.now()-I.sonic_boot__phase_2_2_2__start;var y=Object(u.c)("lastColdBootTs"),j=Date.now();y&&(I.sonic_boot_time_between_cold_boots=j-y),Object(u.m)("lastColdBootTs",j);var E=Object.assign({},o,{timing:I});return te(t),a.a.resolve(E)})}function ee(e){var t;if(!(null==e?void 0:null===(t=e.channelsData)||void 0===t?void 0:t.length))return null;var r={},n=e.selfData.id;return e.channelsData.some(function(){var{is_general:e,user:t,id:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return e?(r.general=a,!0):("USLACKBOT"===t&&(r.slackbot=a),t===n&&(r.self=a),o||(r.first=a),!1)}),{routeName:j.b,params:{entityId:r.general||r.slackbot||r.self||r.first}}}function te(e){var t=Object(i.getStoreInstanceByTeamId)(e);t&&(Object(o.b)("BOOT","("+e+") Boot complete"),E.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(O.i)(!1)))}function re(e){var{store:t,teamId:r,bootAssets:{getLocaleFeatureFlags:i,localesEnabled:s,queryStringParse:c,resetCredentials:d,removeUrlQueryStringValue:l,getLocale:u}}=e,_=i(t.getState()),m=s(Object.keys(_).reduce((e,t)=>Object.assign({},e,{[Object(n.a)(t)]:_[t]}),{})),p=c(window.location.search),b=u();return!m[b]&&Object.keys(p).includes("locale")?(Object(o.b)("BOOT","team "+r+" attempted to boot into locale "+b+" which has not been enabled; clearing credentials and reloading app"),d(),window.location=l(window.location.href,"locale"),Object(I.a)()):a.a.resolve(e)}function ne(e){var{shouldSetFocus:t,store:r,bootAssets:n,bootData:o,isWarmBooting:i,teamId:s}=e,{getRouteName:c,getRouteParams:d,updateCurrentRoute:l,getCurrentRouteInfo:u,navigateToRoute:m,getClientStoreInstance:p,setWillNavigateToUnbootedWorkspaceId:b,getWillNavigateToUnbootedWorkspaceId:f}=n,h=p();if(f(h.getState())===s)return m(y.a,{teamId:s},{reason:"delayed-unbooted-team-switch"}),h.dispatch(b(null)),a.a.resolve(e);if(!t)return a.a.resolve(e);if(i){var v=u(window.location.pathname,{throwOnNoRoute:!1});if(v&&v.params&&v.params.entityId)r.dispatch(l(v));else{var g=Object(_.d)(s);if(g)r.dispatch(l(g));else if(null==o?void 0:o.channelsData){var O=ee(o);O&&r.dispatch(l(O))}}}if(Object(T.f)(r.getState()))return a.a.resolve(e);var S=r.getState(),I=c(S),E=d(S);return E&&j.a[E.entityId]&&(E.entityId=j.a[E.entityId]),m(I,E,{shouldReplaceState:!0}),a.a.resolve(e)}function ae(e){var{store:t,bootAssets:r,isWarmBooting:n}=e,o=n?"warm":"cold";return t.dispatch(r.setBootType(o)),a.a.resolve(e)}function oe(e){var{teamId:t,bootAssets:r,store:n}=e,{getClientStoreInstance:o,setWorkspaceBooted:i,setWindow:s,getWindow:c,hasWorkspaceFailedToBoot:d}=r,l=o(),u=l.getState(),_=c(u);return n.dispatch(s(_)),d(u,t)?a.a.resolve(e):(l.dispatch(i(t)),a.a.resolve(e))}function ie(e){if(e.isWarmBooting)return e;var{setLocalConfigForTeamWithKey:t}=e.bootAssets,r=document.documentElement,n=!(!r||!r.dataset)&&r.dataset.versionTs;return"dev"!==n&&(n=parseInt(n,10)),t(e.teamId,"versionDataTs",n),a.a.resolve(e)}function se(e){return e.bootAssets.connectSocket(e)}function ce(e){var{bootAssets:t,store:r,teamId:n,teamToken:i,featureFlagURLOverrides:s,experimentGroupOverrides:d,userId:l,isWarmBooting:u}=e,{dispatchBootData:m,getMembersById:p,maybeFetchDrafts:f,maybeReloadSlashCommands:h,maybeReloadEmoji:g,fetchAndUpsertWhatsNewUpdates:S,loadAppActions:I,shouldSetFocus:y,maybeCountServiceWorkerNetworkStackFailureRefresh:j,throttledLoadMegaphoneNotificationData:E,maybeInitializeHuddleSdk:T}=t;if(u){Object(o.b)("BOOT","("+n+") Fetching fresh boot data after booting with persisted store");var k=Object(_.c)({store:r,shouldSetFocus:y});Object(F.a)({teamId:n,teamToken:i,routeInfo:k,forceAPI:!0,userId:l,shouldSetFocus:y,reason:"deferred-data"}).then(function(){var{bootData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return J(Object.assign({},e,{isWarmBooting:!1,bootData:t})).then(()=>t)}).then(t=>{r.dispatch(Object(O.k)(!1)),m(r,t,k,s,d);var n=r.getState(),a=(t&&t.membersToFetch||[]).filter(e=>!(n&&n.members&&n.members[e]));p(n,a);var o=Object.assign({},e,{isWarmBooting:!1});ne(o),H(Object.assign({},o,{bootData:t})),ue(e)}).catch(e=>{var t;Object(o.a)("Caught deferred boot data error",e);var r=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.error)||(null==e?void 0:e.message)||"";Object(c.a)({error:e,teamId:n,userId:l,description:"client boot failed to fetch deferred boot data: "+r,subtype:"client_boot_data_error",version:Object(b.a)()})}).finally(()=>{te(n)})}return setTimeout(()=>{!function(e){var{store:t,bootAssets:r}=e,n=t.getState();(Object(A.j)(n,"feature_custom_status_calendar_sync")||Object(v.a)(n))&&t.dispatch(r.getCurrentCalendarAndUser())}(e),r.dispatch(f({preserveCache:!0,reason:"boot-team"})),r.dispatch(h()),r.dispatch(g()),r.dispatch(I()),r.dispatch(E()),r.dispatch(S({reason:"boot-team"})),j(),function(e){var{store:t,shouldSetFocus:r,bootAssets:n}=e,a=t.getState();r&&n.maybeEnablePWA(a)}(e),T(r)},0),a.a.resolve(e)}function de(e){var{store:t,bootAssets:r,shouldSetFocus:n}=e,{getTelemeter:o,isScreenReaderEnabled:i}=r,s=t.getState();return n&&i(s)&&o({state:s}).count("screenreader_enabled"),a.a.resolve(e)}function le(e){var{store:t,bootAssets:r,shouldSetFocus:n,isWarmBooting:o,timing:i,bootedOffline:s}=e,{getTelemeter:c,isJsPath:d,isQa:l,isDev:u,getDesktopPreloadTime:_,getClientStoreInstance:m,setShouldLogTTUMetrics:p,setShouldLogAppBootMetrics:b,ttiPolyfill:f}=r,h=c({state:t.getState()}),v=o?"warm":"cold";if(d||u)return a.a.resolve(e);if(l)return a.a.resolve(e);if(n){if(s){h.count("sonic_boot_offline");var g=m();return g.dispatch(p(!1)),g.dispatch(b(!1)),a.a.resolve(e)}var O=r.isReload()?"_reload":"";h.count("sonic_boot"),r.isReload()&&h.count("sonic_boot_reload");var S=_();if(S>0&&h.store("sonic_boot_desktop_preload"+O,S),window.performance&&window.performance.getEntriesByName){var I=""+window.location.origin+window.location.pathname,y=window.performance.getEntriesByName(I);if(y&&y[0]){var j=y[0],E=j.requestStart-j.workerStart,T=0===E?"awake":"asleep";h.count("sonic_boot_sw_status_"+T),h.store("sonic_boot_sw_startup_time_"+v,E)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(h.store("sonic_boot_window__connectStart_"+v+O,window.performance.timing.connectStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__connectEnd_"+v+O,window.performance.timing.connectEnd-window.performance.timing.fetchStart),h.store("sonic_boot_window__requestStart_"+v+O,window.performance.timing.requestStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__responseStart_"+v+O,window.performance.timing.responseStart-window.performance.timing.fetchStart),h.store("sonic_boot_window__responseEnd_"+v+O,window.performance.timing.responseEnd-window.performance.timing.fetchStart),h.store("sonic_boot_window__domLoading_"+v+O,window.performance.timing.domLoading-window.performance.timing.fetchStart),h.store("sonic_boot_phase_1_"+v+O,window.sonic_boot__phase_1__duration)),h.store("sonic_boot_phase_2_1_"+v,0),h.store("sonic_boot_phase_1_5_"+v,window.sonic_boot__phase_1_5__duration);var A=Date.now()-window.sonic_boot__phase_2__start;h.store("sonic_boot_phase_2_2_"+v,A),h.store("sonic_boot_phase_2_2_1_"+v,i.sonic_boot__phase_2_2_1__duration),h.store("sonic_boot_phase_2_2_1_1_"+v,i.sonic_boot__phase_2_2_1_1__duration),h.store("sonic_boot_phase_2_2_1_2_"+v,i.sonic_boot__phase_2_2_1_2__duration),h.store("sonic_boot_phase_2_2_1_3_"+v,i.sonic_boot__phase_2_2_1_3__duration),h.store("sonic_boot_phase_2_2_2_"+v,i.sonic_boot__phase_2_2_2__duration),h.store("sonic_boot_phase_2_2_3_"+v,A-i.sonic_boot__phase_2_2_1__duration-i.sonic_boot__phase_2_2_2__duration),f.getFirstConsistentlyInteractive().then(e=>{h.store("sonic_tti_"+v,e)}),i.sonic_boot_time_between_cold_boots&&h.store("sonic_boot_time_between_cold_boots",i.sonic_boot_time_between_cold_boots)}return a.a.resolve(e)}function ue(e){var{teamId:t,store:r,bootAssets:n}=e,o=r.getState();return n.saveColorsToLocalConfig(t,o),a.a.resolve(e)}function _e(e){try{var{store:t,bootAssets:r}=e,{openChannelBrowser:n,openChannelCreateModal:o,openInviteModalFromExternalLink:i,openPrefsModal:s,queryStringParse:c}=r,d=c(window.location.search),{open:l}=d;if(!l)return a.a.resolve(e);var{dispatch:u}=t;switch(l){case"browse_channels":u(n());break;case"create_channel":u(o({entryPoint:"external_link"}));break;case"invite_members":u(i({source:d.source||"query_string_open_invite_members",provider:d.provider}));break;case"notifications":u(s({activeSection:"notifications"}))}return a.a.resolve(e)}catch(_){return a.a.resolve(e)}}},s0HP:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return s});var n=r("aK/h"),a=r("A2B7"),o=Object(a.b)("Initialize user preferences");o.meta={name:"setUserPrefs",key:"prefsStoreUserActionsSetUserPrefs",description:"Initialize user preferences"},o.propTypes=n.default.object.isRequired;var i=Object(a.b)("Update one user pref");i.meta={name:"setUserPref",key:"prefsStoreUserActionsSetUserPref",description:"Update one user pref"},i.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};var s=Object(a.b)("Update multiple users pref");s.meta={name:"setMultipleUserPrefs",key:"prefsStoreUserActionsSetMultipleUserPrefs",description:"Update multiple users pref"},s.propTypes=n.default.object.isRequired},sDWr:function(e,t,r){"use strict";r.d(t,"b",function(){return S}),r.d(t,"k",function(){return I}),r.d(t,"e",function(){return y}),r.d(t,"c",function(){return j}),r.d(t,"i",function(){return E}),r.d(t,"g",function(){return T}),r.d(t,"f",function(){return A}),r.d(t,"n",function(){return F}),r.d(t,"m",function(){return k}),r.d(t,"p",function(){return w}),r.d(t,"j",function(){return D}),r.d(t,"o",function(){return C}),r.d(t,"l",function(){return R}),r.d(t,"d",function(){return P}),r.d(t,"h",function(){return N}),r.d(t,"a",function(){return x}),r.d(t,"q",function(){return M});var n=r("kLJo"),a=r("toaU"),o=r("tYiI"),i=r("J9z2"),s=r("+1yX"),c=r("UUlk"),d=r("FHcd"),l=r("k2C/"),u=r("uFGw"),_=/^[\d]{10}\.[\d]{6}$/;function m(e){return _.test(e)}var p=/^(C|G|D)[A-Z0-9]{8,}-[\d]{10}\.[\d]{6}$/;var b=r("NFsq"),f=r("hgYl");var h=r("btH0"),v=r("+Sjy"),g=r("Er5K"),O=r("wCpp"),S="ROUTE_ENTITY",I="ROUTE_FLEX_THREAD",y="ROUTE_FLEX_DETAILS",j="ROUTE_FLEX_ACTIVITY_PANE",E="ROUTE_FLEX_SAVED",T="ROUTE_FLEX_FILES",A="ROUTE_FLEX_FILE",F="ROUTE_FLEX_USER_GROUPS",k="ROUTE_FLEX_USER_GROUP",w="ROUTE_FLEX_WHATS_NEW",D="ROUTE_FLEX_SHORTCUTS",C="ROUTE_FLEX_USER_PROFILE",R="ROUTE_FLEX_USER_CALENDAR",P="ROUTE_FLEX_CHANNEL_INSPECTOR",N="ROUTE_FLEX_HUDDLE",x={"stars-page":"saved-page"},B={entityId:e=>Object(o.a)(e)||Object(i.a)(e)||Object(s.a)(e)||Object(c.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(h.a)(e)||Object(v.h)(e)||(e=>Object.keys(x).includes(e))(e),appOrServiceId:e=>Object(i.a)(e)||Object(o.a)(e),timestamp:m,threadId:function(e){return p.test(e)},replyTs:m,sectionId:function(e){return Object(b.a)(f.a,e)||""===e},tabId:e=>Object(g.c)(e),draftId:O.c,channelId:s.a},L={[a.a]:{paths:["/"]},[S]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId"]},[I]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info"]},[P]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[y]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId","/:entityId/:draftId/details"]},[j]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity"]},ROUTE_FLEX_STARRED:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items"]},[E]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved"]},[T]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files"]},[A]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId"]},[F]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups"]},[k]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId"]},[w]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new"]},[D]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts"]},[C]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId"]},[R]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar"]},[N]:{paths:["/:entityId/huddle","/:entityId/:timestamp/huddle","/:entityId/:tabId/huddle","/:entityId/:draftId/huddle"]}};function M(){Object(n.d)(B,L)}},t0rW:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return d});var n=r("7EGn"),a=r("y+1o"),o=r("1hAG"),i=r("h9PG"),s=r("5mKg"),c=Object.freeze({GRID:{ORG_ADMINS_AND_OWNERS:"ORG_ADMINS_AND_OWNERS",ORG_ADMINS_AND_OWNERS_AND_SELECTED:"ORG_ADMINS_AND_OWNERS_AND_SELECTED",NO_ONE:"NO_ONE",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},STANDARD:{NO_ONE:"NO_ONE",TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",EVERYONE:"EVERYONE"}}),d=e=>{var t=Object(o.d)(e);if(Object(s.q)(t))return(e=>{var t=Object(a.e)(e,"who_can_manage_ext_shared_channels"),r=Object(n.a)(t,"type[0]");return r===c.GRID.ORG_ADMINS_AND_OWNERS_AND_SELECTED||r===c.GRID.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED?{plan:"enterprise",value:c.GRID.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,users:t.user||[],userGroups:t.subteam||[]}:(r===c.GRID.ORG_ADMINS_AND_OWNERS&&(r=c.GRID.TOPLEVEL_ADMINS_AND_OWNERS),{plan:"enterprise",value:r})})(e);if(Object(s.A)(t)){var r=Object(i.a)(e,"who_can_manage_ext_shared_channels"),d=Object(n.a)(r,"type[0]");return d===c.GRID.ORG_ADMINS_AND_OWNERS&&(d=c.STANDARD.TOPLEVEL_ADMINS_AND_OWNERS),{plan:t.plan,value:d}}return null}},tYiI:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=/^@?A[A-Z0-9]{8,}$/;function a(e){return n.test(e)}},txCA:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("quKg"),a=e=>"enabled"===Object(n.c)(e,"calendar_create_event_shortcut")},v3s2:function(e,t,r){"use strict";function n(){return!0}r.d(t,"a",function(){return n})},v5z3:function(e,t,r){"use strict";r.d(t,"f",function(){return n}),r.d(t,"e",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return s});var n,a,o,i=r("yhG8");!function(e){e.TeamName="TeamName",e.Channels="Channels",e.Invites="Invites",e.StartFirstConversation="StartFirstConversation"}(n||(n={})),function(e){e.TeamName="setup-team-name",e.Channels="setup-channels",e.Invites="setup-invites",e.StartFirstConversation="start-first-conversation"}(a||(a={})),function(e){e.TeamName="Psetup-team-name",e.Channels="Psetup-channels",e.Invites="Psetup-invites",e.StartFirstConversation="Pstart-first-conversation"}(o||(o={}));var s,c=[n.TeamName,n.Channels,n.Invites],d=[n.TeamName,n.Invites,n.StartFirstConversation];!function(e){e[e.Project=i.e.PROJECT]="Project",e[e.Team=i.e.TEAM]="Team",e[e.Announcements=i.e.ANNOUNCEMENTS]="Announcements",e[e.Brainstorming=i.e.BRAINSTORMING]="Brainstorming",e[e.Sync=i.e.SYNC]="Sync",e[e.Other=i.e.OTHER]="Other"}(s||(s={}));s.Project,s.Team,s.Brainstorming,s.Announcements,s.Sync,s.Project,s.Announcements,s.Team,s.Brainstorming,s.Sync,s.Other},"vya+":function(e,t,r){"use strict";var n=r("rePB"),a=r("s4P+"),o="LS_CACHE";t.a=class LocalStorageCache{constructor(e){Object(n.a)(this,"key",void 0),Object(n.a)(this,"cachedValue",void 0),this.key=e}get(){if(void 0!==this.cachedValue)return this.cachedValue;try{var e=window.localStorage.getItem(this.key);return Object(a.b)().info(o,"Read value from localStorage for "+this.key),this.cachedValue=e,e}catch(t){return Object(a.b)().error(o,"Unable to access "+this.key+" from localStorage",t),null}}set(e){if(void 0===this.cachedValue||e!==this.cachedValue)try{localStorage.setItem(this.key,e),this.cachedValue=void 0,Object(a.b)().info(o,"Set value in localStorage for "+this.key)}catch(t){Object(a.b)().error(o,"Unable to set "+this.key+" in localStorage",t)}}remove(){try{localStorage.removeItem(this.key),this.cachedValue=void 0,Object(a.b)().info(o,"Removed key in localStorage "+this.key)}catch(e){Object(a.b)().error(o,"Unable to remove "+this.key+" from localStorage",e)}}}},wCpp:function(e,t,r){"use strict";function n(e){if(e)return"draft-"+e}function a(e){if(e){var[,t]=e.match(/^draft-(.+)/)||[];return t}}function o(e){return/^draft-.+/.test(e)}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"c",function(){return o})},wHps:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("4v0o"),a={[n.a.allUnreads]:"unreads",[n.a.allThreads]:"threads",[n.a.search]:"search"}},wNji:function(e,t,r){"use strict";var n=r("peh1"),a=r("brL+");t.a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o={};return function(e){var r=Object(a.b)(e)||"default";if(!o[r]){var i=Object(n.createSelector)(...t);o[r]=i}for(var s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];return o[r](e,...c)}}},wyox:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r("m8R6"),a=r("aK/h"),o=r("A2B7"),i=r("MNvw"),s=["","std","plus","compliance","enterprise"],c=Object(o.b)("Add team");c.meta={name:"addTeam",key:"teamsStoreTeamsReducerAddTeam",description:"Add team"},c.propTypes=a.default.shape({id:a.default.string.isRequired,plan:a.default.oneOf(s),over_storage_limit:a.default.bool,is_migrating:a.default.bool,sso_provider:a.default.object,externalOrgMigrated:a.default.bool}).isRequired;var d=Object(o.b)("Remove team");d.meta={name:"removeTeam",key:"teamsStoreTeamsReducerRemoveTeam",description:"Remove team"},d.propTypes=a.default.shape({id:a.default.string.isRequired}).isRequired;var l=Object(i.b)({[c]:(e,t)=>{if(!t||!t.id)return e;var r=Object.assign({},e);return r[t.id]=t,r},[d]:(e,t)=>t&&t.id&&e[t.id]?Object(n.a)(e,t.id):e},{},{storeKey:"teams",persistenceEnabled:!0});l.meta={name:"teams",key:"teamsStoreTeamsReducerTeams"},l.propTypes=a.default.objectOf(a.default.shape({id:a.default.string.isRequired,domain:a.default.string,name:a.default.string,url:a.default.string,plan:a.default.oneOf(s),can_add_ura:a.default.bool,over_storage_limit:a.default.bool,is_migrating:a.default.bool,externalOrgMigrated:a.default.bool})),t.b=l},"y+1o":function(e,t,r){"use strict";r.d(t,"e",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return d}),r.d(t,"b",function(){return l});var n=r("zgq7"),a=r("peh1"),o=Object(n.b)((e,t)=>e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.org_prefs&&e.prefs.enterprise.org_prefs[t]);o.meta={name:"getOrgPref",key:"prefsStoreEnterpriseSelectorsGetOrgPref"};var i=Object(n.b)((e,t)=>e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.locked_prefs&&e.prefs.enterprise.locked_prefs[t]);i.meta={name:"getLockedOrgPref",key:"prefsStoreEnterpriseSelectorsGetLockedOrgPref"};var s=Object(n.b)((e,t)=>e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.unlocked_prefs&&e.prefs.enterprise.unlocked_prefs[t]);s.meta={name:"getUnlockedOrgPref",key:"prefsStoreEnterpriseSelectorsGetUnlockedOrgPref"};var c=Object(n.b)(e=>e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.orgDefaultChannels);c.meta={name:"getOrgDefaultChannels",key:"prefsStoreEnterpriseSelectorsGetOrgDefaultChannels"};Object(a.createSelector)(c,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>(t.is_mandatory&&e.push(t.id),e),[])});var d=Object(n.b)((e,t)=>{return e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.orgDefaultChannels&&t?e.prefs.enterprise.orgDefaultChannels.find(e=>e.id===t).prefs:null});d.meta={name:"getOrgDefaultChannelPrefsById",key:"prefsStoreEnterpriseSelectorsGetOrgDefaultChannelPrefsById"};var l=Object(n.b)((e,t)=>{return e&&e.prefs&&e.prefs.enterprise&&e.prefs.enterprise.orgDefaultChannels&&t?e.prefs.enterprise.orgDefaultChannels.find(e=>e.id===t).is_mandatory:null});l.meta={name:"getOrgDefaultChannelIsMandatoryById",key:"prefsStoreEnterpriseSelectorsGetOrgDefaultChannelIsMandatoryById"}},yhG8:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"c",function(){return s});var n="CHANNELS-ACTIONS",a="Upsert a channel, group, mpim, or im",o={ADD_CHANNEL:"Add a channel, overwriting anything previously stored with the same id",ARCHIVE_CHANNEL:"Archive channel",BULK_ADD_CHANNELS:"Bulk add channels, overwriting anything previously stored with the same id",BULK_UPDATE_CHANNELS:"Update a few keys for multiple channels",CLEAR_ALL_SHOW_IN_LIST_EVEN_THOUGH_UNREADS_FLAGS:"Legacy hack: set the _show_in_list_even_though_no_unreads for all channels to be false",CONVERT_TO_PRIVATE:"Convert a channel to private",CONVERT_TO_SHARED:"Convert a channel to an enterprise shared channel (cross-workspace or org-wide)",CHANNEL_UPDATED:"Channel was updated (privacy, permissions or externally shared status changed)",ORG_ACCESS:"Update the teams this channel is shared with on your organization or update to cross-workspace or org-wide",LEAVE_CHANNEL:"Leave channel",RENAME_CHANNEL:"Rename a channel",SET_PURPOSE:"Set a channel purpose",SET_STAR:"Set starred state for a channel",SET_TOPIC:"Set a channel topic",UNARCHIVE_CHANNEL:"Unarchive a channel",UPDATE_ONE_KEY:"Update one key for a channel by id",UPDATE_WORKSPACE_ACCESS:"Update workspace access for a channel",UPSERT_CHANNEL:a,CHILD_CHANNEL_CREATED:"Archive old private channel and replace it with new private channel with same name"},i={ANNOUNCEMENTS:"announcements",BRAINSTORMING:"brainstorming",DM:"dm",MPDM:"mpdm",OTHER:"other",PROJECT:"project",SYNC:"sync",TEAM:"team",WELCOME:"welcome",SELF_DM:"self_dm",RANDOM:"random"},s={GENERAL:"general",GENERIC:"generic"}}},[["d/52","gantry-manifest","gantry-vendors","gantry-vendors-client","gantry-shared","client-boot-styles"]]]);